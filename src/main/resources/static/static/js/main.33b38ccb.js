/*! For license information please see main.33b38ccb.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var j,F=Object.assign;function M(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Se=null;function ke(e){if(e=vi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Ce||null!==Se)&&(Pe(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){De=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){De=!1}function Ae(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Fe=null,Me=!1,ze=null,Ue={onError:function(e){je=!0,Fe=e}};function Be(e,t,n,r,i,o,s,a,l){je=!1,Fe=null,Ae.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Ct,St,kt,Et=!1,Tt=[],It=null,Pt=null,Nt=null,Rt=new Map,Ot=new Map,Dt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=_i(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Ut(){Et=!1,null!==It&&Mt(It)&&(It=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Nt&&Mt(Nt)&&(Nt=null),Rt.forEach(zt),Ot.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),null!==Nt&&Bt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=vt,o=Wt.transition;Wt.transition=null;try{vt=1,$t(e,t,n,r)}finally{vt=i,Wt.transition=o}}function Qt(e,t,n,r){var i=vt,o=Wt.transition;Wt.transition=null;try{vt=4,$t(e,t,n,r)}finally{vt=i,Wt.transition=o}}function $t(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=jt(It,e,t,n,r,i),!0;case"dragenter":return Pt=jt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=jt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,jt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,jt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=vi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=_i(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(_n),bn=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return Sn}var En=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Rn),Dn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var jn=u&&"TextEvent"in window&&!An,Fn=u&&(!Ln||An&&8<An&&11>=An),Mn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Kn(e){Mr(e,0)}function Yn(e){if($(bi(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),$n=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn($n)){var t=[];Vn(t,$n,e,we(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,_r=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&lr(_r,r)||(_r=r,0<(r=Qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Sr={};function kr(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),Pr=kr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Lr=Rr[Dr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),je){if(!je)throw Error(o(198));var u=Fe;je=!1,Fe=null,Me||(Me=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(Me)throw e=ze,Me=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Gt(t)){case 1:var i=Vt;break;case 4:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=_i(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,i=we(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Er:case Tr:case Ir:l=yn;break;case Pr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Oe(p,h))&&u.push(Vr(p,g,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!_i(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?_i(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,_i(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=$r(f))p++;for(f=0,g=h;g;g=$r(g))f++;for(;0<p-f;)u=$r(u),p--;for(;0<f-p;)h=$r(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Gn;else if(Hn(a))if(Jn)m=sr;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Vn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,_r=null);break;case"focusout":_r=yr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,i)}var _;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(_=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Qr(r,v)).length&&(v=new bn(v,e,null,n,i),s.push({event:v,listeners:y}),_?v.data=_:null!==(_=Bn(n))&&(v.data=_))),(_=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=_))}Mr(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,o))&&s.unshift(Vr(n,l,a)):i||null!=(l=Oe(n,o))&&s.push(Vr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function _i(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var xi=[],Ci=-1;function Si(e){return{current:e}}function ki(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function Ei(e,t){Ci++,xi[Ci]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Pi=Si(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Pi),ki(Ii)}function Li(e,t,n){if(Ii.current!==Ti)throw Error(o(168));Ei(Ii,t),Ei(Pi,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return F({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ei(Ii,e),Ei(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ai(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Ii),Ei(Ii,e)):ki(Pi),Ei(Pi,n)}var Mi=null,zi=!1,Ui=!1;function Bi(e){null===Mi?Mi=[e]:Mi.push(e)}function qi(){if(!Ui&&null!==Mi){Ui=!0;var e=0,t=vt;try{var n=Mi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,zi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),$e(Ze,qi),i}finally{vt=t,Ui=!1}}return null}var Wi=[],Hi=0,Vi=null,Qi=0,$i=[],Ki=0,Yi=null,Gi=1,Ji="";function Xi(e,t){Wi[Hi++]=Qi,Wi[Hi++]=Vi,Vi=e,Qi=t}function Zi(e,t,n){$i[Ki++]=Gi,$i[Ki++]=Ji,$i[Ki++]=Yi,Yi=e;var r=Gi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Gi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Vi;)Vi=Wi[--Hi],Wi[Hi]=null,Qi=Wi[--Hi],Wi[Hi]=null;for(;e===Yi;)Yi=$i[--Ki],$i[Ki]=null,Ji=$i[--Ki],$i[Ki]=null,Gi=$i[--Ki],$i[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Gi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var _o=Si(null),vo=null,bo=null,wo=null;function xo(){wo=bo=vo=null}function Co(e){var t=_o.current;ki(_o),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){vo=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===vo)throw Error(o(308));bo=e,vo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var To=null;function Io(e){null===To?To=[e]:To.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ro=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ao(e,o,i))&&(rc(t,e,i,r),jo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ao(e,o,i))&&(rc(t,e,i,r),jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ao(e,i,r))&&(rc(t,e,r,n),jo(t,e,r))}};function Wo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Ho(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=Oi(t)?Ni:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=Oi(t)?Ni:Ii.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Mo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function $o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Yo(o)===t.type)?((r=i(t,n.props)).ref=$o(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=$o(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=jc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=$o(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=jc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||A(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),io&&Xi(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(o=s(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,g),c}for(d=r(i,d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,g),c}function m(i,a,l,c){var u=A(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=a,m=a=0,y=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=f(i,g,_.value,c);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(i,g),a=s(v,a,m),null===d?u=v:d.sibling=v,d=v,g=y}if(_.done)return n(i,g),io&&Xi(i,m),u;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=h(i,_.value,c))&&(a=s(_,a,m),null===d?u=_:d.sibling=_,d=_);return io&&Xi(i,m),u}for(g=r(i,g);!_.done;m++,_=l.next())null!==(_=p(g,i,m,_.value,c))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),a=s(_,a,m),null===d?u=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return t(i,e)})),io&&Xi(i,m),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=$o(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===C?((o=jc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Ac(s.type,s.key,s.props,null,r.mode,l)).ref=$o(r,o,s),l.return=r,r=l)}return a(r);case x:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return a(r);case O:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(A(s))return m(r,o,s,l);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Mc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Jo=Go(!0),Xo=Go(!1),Zo={},es=Si(Zo),ts=Si(Zo),ns=Si(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ei(ns,t),Ei(ts,e),Ei(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ei(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ei(ts,e),Ei(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Si(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,ys=null,_s=!1,vs=!1,bs=0,ws=0;function xs(){throw Error(o(321))}function Cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),vs){s=0;do{if(vs=!1,bs=0,25<=s)throw Error(o(301));s+=1,ys=ms=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(vs)}if(hs.current=sa,t=null!==ms&&null!==ms.next,ps=0,ys=ms=gs=null,_s=!1,t)throw Error(o(300));return e}function ks(){var e=0!==bs;return bs=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?gs.memoizedState=ys=e:ys=ys.next=e,ys}function Ts(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===ys?gs.memoizedState:ys.next;if(null!==t)ys=t,ms=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===ys?gs.memoizedState=ys=e:ys=ys.next=e}return ys}function Is(e,t){return"function"===typeof t?t(e):t}function Ps(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ms,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,gs.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Rs(){}function Os(e,t){var n=gs,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Hs(As.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,zs(9,Ls.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&ps)||Ds(n,t,i)}return i}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Fs(e)}function As(e,t,n){return n((function(){js(t)&&Fs(e)}))}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=No(e,1);null!==t&&rc(t,e,1,-1)}function Ms(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Ts().memoizedState}function Bs(e,t,n,r){var i=Es();gs.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function qs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==r&&Cs(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}gs.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function Ws(e,t){return Bs(8390656,8,e,t)}function Hs(e,t){return qs(2048,8,e,t)}function Vs(e,t){return qs(4,2,e,t)}function Qs(e,t){return qs(4,4,e,t)}function $s(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4,4,$s.bind(null,t,e),n)}function Ys(){}function Gs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{vt=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Po(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){vs=_s=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var sa={readContext:Eo,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},aa={readContext:Eo,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,$s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Ms,useDebugValue:Ys,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Zs.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Es();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&ps)||Ds(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ws(As.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Nl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Gi&~(1<<32-st(Gi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Eo,useCallback:Gs,useContext:Eo,useEffect:Hs,useImperativeHandle:Ks,useInsertionEffect:Vs,useLayoutEffect:Qs,useMemo:Js,useReducer:Ps,useRef:Us,useState:function(){return Ps(Is)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(Ts(),ms.memoizedState,e)},useTransition:function(){return[Ps(Is)[0],Ts().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Eo,useCallback:Gs,useContext:Eo,useEffect:Hs,useImperativeHandle:Ks,useInsertionEffect:Vs,useLayoutEffect:Qs,useMemo:Js,useReducer:Ns,useRef:Us,useState:function(){return Ns(Is)},useDebugValue:Ys,useDeferredValue:function(e){var t=Ts();return null===ms?t.memoizedState=e:Xs(t,ms.memoizedState,e)},useTransition:function(){return[Ns(Is)[0],Ts().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Ql=r),ha(0,t)},n}function ga(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _a(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Ao(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ss(e,t,n,r,o,i),n=ks(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ll,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ll,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ll,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ll,Dl),Dl|=r;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Oi(n)?Ni:Ii.current;return o=Ri(t,o),ko(t,i),n=Ss(e,t,n,r,o,i),r=ks(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ia(e,t,n,r,i){if(Oi(n)){var o=!0;ji(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ha(e,t),Ho(t,n,r),Qo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Ri(t,c=Oi(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Vo(t,s,r,c),Ro=!1;var h=t.memoizedState;s.state=h,Mo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Pi.current||Ro?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(a=Ro||Wo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Ri(t,l=Oi(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Vo(t,s,r,l),Ro=!1,h=t.memoizedState,s.state=h,Mo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Pi.current||Ro?("function"===typeof f&&(Bo(t,n,f,r),p=t.memoizedState),(c=Ro||Wo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,o,i)}function Pa(e,t,n,r,i,o){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Va(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),is(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),go(i),t.flags|=256,wa(e,t,n,r),t.child}var Oa,Da,La,Aa,ja={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=jc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=ja,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=jc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=ja,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),rc(r,e,i,-1))}return mc(),Ua(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&($i[Ki++]=Gi,$i[Ki++]=Ji,$i[Ki++]=Yi,Gi=e.id,Ji=e.overflow,Yi=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=jc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&go(r),Jo(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Oi(t.type)&&Di(),$a(t),null;case 3:return r=t.stateNode,os(),ki(Pi),ki(Ii),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Da(e,t),$a(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $a(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)zr(Ar[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in _e(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Q(r),Z(r,s,!0);break;case"textarea":Q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)zr(Ar[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":G(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in _e(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&v(e,s,u,l))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)Aa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return $a(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Al&&(Al=3):mc())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return os(),Da(e,t),null===e&&qr(t.stateNode.containerInfo),$a(t),null;case 10:return Co(t.type._context),$a(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return $a(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Qa(s,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Wl&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return $a(t),null}else 2*Je()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ls.current,Ei(ls,r?1&n|2:1&n),t):($a(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Pi),ki(Ii),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return Co(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in _e(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),_l(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){kc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:ml(t,e),_l(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),_l(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),ve(l,a);var u=ve(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):v(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){kc(e,e.return,m)}}break;case 6:if(ml(t,e),_l(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){kc(e,e.return,m)}}break;case 3:if(ml(t,e),_l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:ml(t,e),_l(e);break;case 13:ml(t,e),_l(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Je())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,ml(t,e),Ja=u):ml(t,e),_l(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Za=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),_l(e),4&r&&gl(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ga;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Ga;var c=Ja;if(Ga=s,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Cl(i):null!==l?(l.return=s,Za=l):Cl(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,Ga=a,Ja=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Cl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,kl=Math.ceil,El=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,Pl=0,Nl=null,Rl=null,Ol=0,Dl=0,Ll=Si(0),Al=0,jl=null,Fl=0,Ml=0,zl=0,Ul=null,Bl=null,ql=0,Wl=1/0,Hl=null,Vl=!1,Ql=null,$l=null,Kl=!1,Yl=null,Gl=0,Jl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Pl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ol?Ol&-Ol:null!==mo.transition?(0===ec&&(ec=gt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));yt(e,n,r),0!==(2&Pl)&&e===Nl||(e===Nl&&(0===(2&Pl)&&(Ml|=n),4===Al&&lc(e,Ol)),ic(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Wl=Je()+500,zi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Nl?Ol:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),si((function(){0===(6&Pl)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Pl;Pl|=2;var s=gc();for(Nl===e&&Ol===t||(Hl=null,Wl=Je()+500,fc(e,t));;)try{vc();break}catch(l){pc(e,l)}xo(),El.current=s,Pl=i,null!==Rl?t=0:(Nl=null,Ol=0,t=Al)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=jl,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=jl,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=ql+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bl,Hl),t);break}xc(e,Bl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bl,Hl),r);break}xc(e,Bl,Hl);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pl))throw Error(o(327));Cc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=jl,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Hl),ic(e,Je()),null}function uc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Wl=Je()+500,zi&&qi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&Cc();var t=Pl;Pl|=1;var n=Il.transition,r=vt;try{if(Il.transition=null,vt=1,e)return e()}finally{vt=r,Il.transition=n,0===(6&(Pl=t))&&qi()}}function hc(){Dl=Ll.current,ki(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:os(),ki(Pi),ki(Ii),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:Co(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Rl=e=Lc(e.current,null),Ol=Dl=t,Al=0,jl=null,zl=Ml=Fl=0,Bl=Ul=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(xo(),hs.current=sa,_s){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_s=!1}if(ps=0,ys=ms=gs=null,vs=!1,bs=0,Tl.current=null,null===n||null===n.return){Al=1,jl=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,_a(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),_a(y,a,l,0,t),go(ua(c,l));break e}}s=c=ua(c,l),4!==Al&&(Al=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var _=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof _.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===$l||!$l.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=El.current;return El.current=sa,null===e?sa:e}function mc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Nl||0===(268435455&Fl)&&0===(268435455&Ml)||lc(Nl,Ol)}function yc(e,t){var n=Pl;Pl|=2;var r=gc();for(Nl===e&&Ol===t||(Hl=null,fc(e,t));;)try{_c();break}catch(i){pc(e,i)}if(xo(),Pl=n,El.current=r,null!==Rl)throw Error(o(261));return Nl=null,Ol=0,Al}function _c(){for(;null!==Rl;)bc(Rl)}function vc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Al=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Al&&(Al=5)}function xc(e,t,n){var r=vt,i=Il.transition;try{Il.transition=null,vt=1,function(e,t,n,r){do{Cc()}while(null!==Yl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nl&&(Rl=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,(function(){return Cc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=vt;vt=1;var l=Pl;Pl|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:yo(t.type,m),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nl,nl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ge(),Pl=l,vt=a,Il.transition=s}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Gl=i),s=e.pendingLanes,0===s&&($l=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Ql,Ql=null,e;0!==(1&Gl)&&0!==e.tag&&Cc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,qi()}(e,t,n,r)}finally{Il.transition=i,vt=r}return null}function Cc(){if(null!==Yl){var e=bt(Gl),t=Il.transition,n=vt;try{if(Il.transition=null,vt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Gl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(sl(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var _=s.sibling;if(null!==_){_.return=s.return,Za=_;break e}Za=s.return}}var v=e.current;for(Za=v;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=v;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){kc(l,l.return,x)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Pl=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{vt=n,Il.transition=t}}return!1}function Sc(e,t,n){e=Ao(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Ao(t,e=ga(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===Al||3===Al&&(130023424&Ol)===Ol&&500>Je()-ql?fc(e,0):zl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=No(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return $e(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return jc(n.children,i,s,t);case S:a=8,i|=8;break;case k:return(e=Oc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case P:return(e=Oc(13,n,t,i)).elementType=P,e.lanes=s,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=s,e;case D:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case I:a=11;break e;case R:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function jc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ai(e,n,t)}return t}function Wc(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=qc(null),n=e.current,(o=Lo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ao(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ao(i,t,s))&&(rc(e,i,s,o),jo(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:ss(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ei(ls,1&ls.current),null!==(e=Va(e,t,n))?e.sibling:null);Ei(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Va(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);ko(t,n),i=Ss(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,ji(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Qo(t,r,e,n),t=Pa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),Mo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ma(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(_o,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Pi.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Lo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),So(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Eo(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ca(e,t,r,i=yo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Ha(e,t),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,ko(t,n),Ho(t,r,i),Qo(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(s)}Gc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Gc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(_t(t,1|n),ic(t,Je()),0===(6&Pl)&&(Wl=Je()+500,qi()))}break;case 13:dc((function(){var t=No(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),$c(e,1)}},xt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)rc(t,e,134217728,tc());$c(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=No(e,t);if(null!==n)rc(n,e,t,tc());$c(e,t)}},St=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));$(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Pe=dc;var tu={usingClientEntryPoint:!1,Events:[vi,bi,wi,Ee,Te,uc]},nu={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function _(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var b=v.prototype=new _;b.constructor=v,g(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=P(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:C};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,D(x);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,_(E),E=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,k=null,E=-1,T=5,I=-1;function P(){return!(t.unstable_now()-I<T)}function N(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?C():(S=!1,k=null)}}else S=!1}if("function"===typeof v)C=function(){v(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,C=function(){O.postMessage(null)}}else C=function(){y(N,0)};function D(e){k=e,S||(S=!0,C())}function L(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(_(E),E=-1):m=!0,L(w,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,D(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>ze,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>Ht,_apps:()=>Bt,_clearComponents:()=>Kt,_components:()=>qt,_getProvider:()=>Qt,_registerComponent:()=>Vt,_removeServiceInstance:()=>$t,deleteApp:()=>tn,getApp:()=>Zt,getApps:()=>en,initializeApp:()=>Xt,onLog:()=>rn,registerVersion:()=>nn,setLogLevel:()=>on});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>nu,hasStandardBrowserEnv:()=>ru,hasStandardBrowserWebWorkerEnv:()=>ou});var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,h=null,m=y();function y(){return(a.state||{idx:null}).idx}function _(){l=r.Pop;let e=y(),t=null==e?null:e-m;m=e,h&&h({action:l,location:b.location,delta:t})}function v(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let b={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,_),h=e,()=>{o.removeEventListener(u,_),h=null}},createHref:e=>t(o,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),m=y()+1;let c=f(i,m),u=b.createHref(i);try{a.pushState(c,"",u)}catch(Bn){if(Bn instanceof DOMException&&"DataCloneError"===Bn.name)throw Bn;o.location.assign(u)}s&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),m=y();let o=f(i,m),c=b.createHref(i);a.replaceState(o,"",c),s&&h&&h({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var _;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_||(_={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=D(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=O(r);o=N(i[s],e)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=L([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,C=3,S=2,k=1,E=10,T=-2,I=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=T),t&&(r+=S),n.filter((e=>!I(e))).reduce(((e,t)=>e+(x.test(t)?C:""===t?k:E)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:L([i,c.pathname]),pathnameBase:A(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return o}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Bn){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Bn+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const L=e=>e.join("/").replace(/\/\/+/g,"/"),A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],M=(new Set(F),["get",...F]);new Set(M),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const U=i.createContext(null);const B=i.createContext(null);const q=i.createContext(null);const W=i.createContext(null);const H=i.createContext({outlet:null,matches:[],isDataRoute:!1});const V=i.createContext(null);function Q(){return null!=i.useContext(W)}function $(){return Q()||d(!1),i.useContext(W).location}function K(e,t,n,o){Q()||d(!1);let{navigator:s}=i.useContext(q),{matches:a}=i.useContext(H),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=$();if(t){var p;let e="string"===typeof t?m(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=v(e,{pathname:y});let b=Z(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:L([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,o);return t&&b?i.createElement(W.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function Y(){let e=function(){var e;let t=i.useContext(V),n=te(ee.UseRouteError),r=ne(ee.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const G=i.createElement(Y,null);class J extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(H.Provider,{value:this.props.routeContext},i.createElement(V.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(U);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(H.Provider,{value:t},r)}function Z(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,d=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||G,c&&(u<0&&0===o?(p="route-fallback",!1||re[p]||(re[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=s?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(X,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(J,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ee=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ee||{});function te(e){let t=i.useContext(B);return t||d(!1),t}function ne(e){let t=function(e){let t=i.useContext(H);return t||d(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const re={};o.startTransition;function ie(e){d(!1)}function oe(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;Q()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:l,future:z({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:_="default"}=o,v=i.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:_},navigationType:s}}),[u,f,p,g,y,_,s]);return null==v?null:i.createElement(q.Provider,{value:h},i.createElement(W.Provider,{children:n,value:v}))}function se(e){let{children:t,location:n}=e;return K(ae(t),n)}new Promise((()=>{}));i.Component;function ae(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ae(e.props.children,o));e.type!==ie&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ae(e.props.children,o)),n.push(s)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(ad){}new Map;const le=o.startTransition;l.flushSync,o.useId;function ce(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),y((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=i.useCallback((e=>{d&&le?le((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(f)),[l,f]),i.createElement(oe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ue,de;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ue||(ue={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(de||(de={}));var he=n(579);const fe=()=>{const[e,t]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{const e=setTimeout((()=>{t(!1)}),1);return()=>clearTimeout(e)}),[]),e?(0,he.jsxs)("div",{className:"loading-screen",style:{position:"absolute",width:"480px",height:"1030px",textAlign:"center"},children:[(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("div",{children:(0,he.jsx)("p",{style:{fontSize:"24px",color:"#999",fontWeight:"normal"},children:"\uc548\uc2ec \ucd9c\uc0b0 \ub3c4\uc6b0\ubbf8"})}),(0,he.jsx)("br",{}),(0,he.jsx)("div",{children:(0,he.jsx)("img",{src:"/img/sanpaIcon.png",alt:"\ub85c\ub529 \uc911"})}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("br",{}),(0,he.jsx)("div",{children:(0,he.jsx)("img",{src:"/img/sanpaLogo.png",alt:"\ub85c\uace0"})}),(0,he.jsx)("div",{children:(0,he.jsxs)("span",{style:{fontSize:"36px",color:"#ff578b"},children:[(0,he.jsx)("strong",{children:"\uc0b0"}),"\ubaa8's ",(0,he.jsx)("strong",{children:"\ud30c"}),"\ud2b8\ub108"]})}),(0,he.jsx)("style",{jsx:!0,children:"\n                .loading-screen {\n                    background-color: rgba(255, 255, 255, 1);\n                    width: 100%;\n                    height: 100vh;\n                    top: 0;\n                    left: 0;\n                    animation: fadeOut 2s forwards; /* fadeOut \uc560\ub2c8\uba54\uc774\uc158\uc744 2\ucd08 \ub3d9\uc548 \uc801\uc6a9\ud558\uace0 \ub9c8\uc9c0\ub9c9 \uc2a4\ud0c0\uc77c\uc744 \uc720\uc9c0\ud569\ub2c8\ub2e4. */\n                    z-index: 999;\n                    animation-delay: 2ms; /* \uc560\ub2c8\uba54\uc774\uc158 \uc2dc\uc791\uc744 2\ucd08 \ud6c4\ub85c \uc9c0\uc5f0\uc2dc\ud0b5\ub2c8\ub2e4. */\n                }\n\n                @keyframes fadeOut {\n                    from {\n                        opacity: 1; /* \uc2dc\uc791 \uac12: \uc644\uc804 \ubd88\ud22c\uba85 */\n                    }\n                    to {\n                        opacity: 0; /* \uc885\ub8cc \uac12: \uc644\uc804 \ud22c\uba85 */\n                    }\n                }\n            "})]}):null},pe=e=>{let{handleLogin:t}=e;const[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(5),[d,h]=(0,i.useState)(!1),f=e=>{const{name:t,value:i}=e.target;"helper_id"===t?r(i):"helper_password"===t&&s(i),h(""!==n&&""!==o)};return(0,he.jsxs)("div",{style:{marginTop:"200px"},children:[(0,he.jsx)("img",{src:"/img/sanpaLogo.png",alt:"Logo"}),(0,he.jsx)("h1",{style:{color:"rgba(0, 0, 0, 0.5)",margin:"40px auto"},children:"\ub85c\uadf8\uc778"}),(0,he.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await t(n,o);e&&null!=e.helper_id?(console.log("Logged in as:",e.helper_id),l(e.helper_id),u(e.helper_status),sessionStorage.setItem("loginData",e.helper_id),window.location.href="/login_move"):console.error("Login failed:",e)}catch(Bn){console.error("Login error:11111111111",Bn),alert("\uc785\ub825\uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4")}},children:[(0,he.jsx)("input",{type:"text",placeholder:"\uc544\uc774\ub514",name:"helper_id",required:!0,value:n,onChange:f,style:{background:"#fffcfc",color:"rgba(0, 0, 0, 0.5)",padding:"10px",margin:"10px",fontSize:"20px",fontWeight:"bold",borderRadius:"15px",border:"1px solid rgba(0, 0, 0, 0.5)"}}),(0,he.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",name:"helper_password",required:!0,value:o,onChange:f,style:{background:"#fffcfc",color:"rgba(0, 0, 0, 0.5)",padding:"10px",margin:"10px",fontSize:"20px",fontWeight:"bold",borderRadius:"15px",border:"1px solid rgba(0, 0, 0, 0.5)"}}),(0,he.jsxs)("p",{style:{textAlign:"left",marginLeft:"100px",fontWeight:"bold",color:"rgba(0, 0, 0, 0.4)",marginTop:"50px",marginBottom:"50px"},children:[(0,he.jsx)("input",{type:"checkbox"}),"\xa0\ub85c\uadf8\uc778 \uc720\uc9c0"]}),(0,he.jsx)("button",{type:"submit",className:"btn2",style:{width:"287px",height:"44px",color:"white",background:d?"#FF69B4":"#ccc",textAlign:"center",fontSize:"25px",padding:"25px auto",borderRadius:"15px",boxShadow:"2px 4px 4px 0px rgba(0,0,0,0.4)",border:"none"},children:"\ub85c \uadf8 \uc778"})]}),(0,he.jsx)("br",{}),(0,he.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,he.jsx)("button",{onClick:()=>window.location.href="insertHelper",className:"btn2",style:{fontWeight:"bold",fontSize:"16px",color:"rgba(0, 0, 0, 0.3)",margin:"40px 20px",background:"white",border:"none"},children:"\ud68c\uc6d0\uac00\uc785"}),(0,he.jsx)("button",{onClick:()=>window.location.href="findId",className:"btn2",style:{fontWeight:"bold",fontSize:"16px",color:"rgba(0, 0, 0, 0.3)",margin:"40px 20px",background:"white",border:"none"},children:"\uc544\uc774\ub514 \ucc3e\uae30"}),(0,he.jsx)("button",{onClick:()=>window.location.href="findPassword",className:"btn2",style:{fontWeight:"bold",fontSize:"16px",color:"rgba(0, 0, 0, 0.3)",margin:"40px 20px",background:"white",border:"none"},children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"})]}),(0,he.jsx)("style",{type:"text/css",children:"\n                input::placeholder {\n                    color: rgba(0, 0, 0, 0.4);\n                }\n                .btn2:hover {\n                    background: #FF7ac5 !important;\n                    border-radius: 15px;\n                }\n                "})]})},ge=()=>(0,he.jsxs)("div",{style:{zIndex:251,position:"absolute",top:0,width:"480px",height:"100px",background:"white",boxShadow:"0 0 4px 4px #ccc",fontSize:0},children:[(0,he.jsx)("div",{style:{display:"flex",alignItems:"center",width:"50px",height:"50px",position:"absolute",top:"40px",left:"12px"},children:(0,he.jsx)("i",{className:"bi bi-list",style:{height:"64px",fontSize:"48px",color:"gray"}})}),(0,he.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"48px",cursor:"pointer"},onClick:()=>{window.location.href="/getButtonList"},children:(0,he.jsx)("img",{src:"/img/header_sanpaLogo.png",alt:"\ub85c\uace0"})}),(0,he.jsx)("div",{style:{position:"absolute",top:"30px",right:"20px",width:"60px",height:"60px",background:"black",borderRadius:"30px"}})]}),me=e=>(0,he.jsxs)("div",{style:{zIndex:251,position:"absolute",bottom:"0px",width:"480px",height:"100px",background:"white",boxShadow:"0 0 4px 4px #ccc",fontFamily:"'Pretendard', sans-serif"},children:[(0,he.jsxs)("div",{style:{width:"80px",height:"90px",display:"inline-block",margin:"0 14px",fontSize:"16px"},children:[(0,he.jsx)("i",{className:"bi bi-clipboard2-check",style:{fontSize:"50px",color:e.color1}}),(0,he.jsx)("div",{style:{color:e.color1,fontWeight:"bold"},children:"\uac80\uc9c4\uc77c\uc9c0"})]}),(0,he.jsxs)("div",{style:{width:"80px",height:"90px",display:"inline-block",margin:"0 14px",fontSize:"16px"},onClick:()=>{window.location.href="/#/helpers"},children:[(0,he.jsx)("i",{className:"bi bi-people",style:{fontSize:"50px",color:e.color2}}),(0,he.jsx)("div",{style:{color:e.color2,fontWeight:"bold"},children:"\ud5ec\ud37c\uc988"})]}),(0,he.jsxs)("div",{onClick:()=>{window.location.href="mother_daily_report"},style:{width:"80px",height:"90px",display:"inline-block",margin:"0 14px",fontSize:"16px"},children:[(0,he.jsx)("i",{className:"bi bi-pencil",style:{fontSize:"50px",color:e.color3}}),(0,he.jsx)("div",{style:{color:e.color3,fontWeight:"bold"},children:"\uc624\ub298\uc758\uc0c1\ud0dc"})]}),(0,he.jsxs)("div",{onClick:()=>{window.location.href="mother_myPage"},style:{width:"80px",height:"90px",display:"inline-block",margin:"0 14px",fontSize:"16px"},children:[(0,he.jsx)("i",{className:"bi bi-person-circle",style:{fontSize:"50px",color:e.color4}}),(0,he.jsx)("div",{style:{color:e.color4,fontWeight:"bold"},children:"\ub9c8\uc774\ud398\uc774\uc9c0"})]})]}),ye=e=>{let{onPageChange:t,btnColor1:n,btnColor2:r,btnColor3:i}=e;return(0,he.jsx)("div",{style:{width:"480px",textAlign:"center",position:"absolute",top:"100px"},children:(0,he.jsxs)("div",{style:{width:"420px",height:"60px",background:"white",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"20px",margin:"0 auto",color:"#999",fontWeight:"bold"},children:[(0,he.jsx)("div",{onClick:()=>window.location.href="helpers_list",style:{color:n},children:"\ud5ec\ud37c\uc988 List"}),(0,he.jsx)("span",{style:{margin:"0 10px"},children:"|"}),(0,he.jsx)("div",{onClick:()=>window.location.href="helpers_add",style:{color:r},children:"\ud5ec\ud37c\uc988 \ucd94\uac00"}),(0,he.jsx)("span",{style:{margin:"0 10px"},children:"|"}),(0,he.jsx)("div",{onClick:()=>t("location"),style:{color:i},children:"\ud5ec\ud37c\uc988 \uc704\uce58"})]})})},_e=()=>(0,he.jsxs)("div",{style:{width:"480px",height:"770px",position:"absolute",top:"160px"},children:[(0,he.jsx)("h2",{children:"\ud5ec\ud37c\uc988 \ub9ac\uc2a4\ud2b8"}),(0,he.jsx)("p",{children:"\ud5ec\ud37c\uc988 \ub9ac\uc2a4\ud2b8 \ucee8\ud150\uce20 \ub0b4\uc6a9..."})]}),ve=()=>(0,he.jsxs)("div",{style:{width:"480px",height:"770px",position:"absolute",top:"160px"},children:[(0,he.jsx)("h2",{children:"\ud5ec\ud37c\uc988 \ucd94\uac00"}),(0,he.jsx)("p",{children:"\ud5ec\ud37c\uc988 \ucd94\uac00 \ucee8\ud150\uce20 \ub0b4\uc6a9..."})]}),be=!1,we=!1,xe="${JSCORE_VERSION}",Ce=function(e,t){if(!e)throw Se(t)},Se=function(e){return new Error("Firebase Database ("+xe+") INTERNAL ASSERT FAILED: "+e)},ke=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ke(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Te;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(e){const t=ke(e);return Ee.encodeByteArray(t,!0)},Pe=function(e){return Ie(e).replace(/\./g,"")},Ne=function(e){try{return Ee.decodeString(e,!0)}catch(ad){console.error("base64Decode failed: ",ad)}return null};function Re(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Re(e[n],t[n]));return e}const Oe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,De=()=>{try{return Oe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ad){return}const t=e&&Ne(e[1]);return t&&JSON.parse(t)})()}catch(ad){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ad))}},Le=()=>{var e;return null===(e=De())||void 0===e?void 0:e.config};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function je(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Me(){return!0===be||!0===we}class ze extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Be,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ze(n,o,t)}}const Be=/\{\$([^}]+)}/g;function qe(e){return JSON.parse(e)}function We(e){return JSON.stringify(e)}const He=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=qe(Ne(o[0])||""),n=qe(Ne(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(ad){}return{header:t,claims:n,data:r,signature:i}};function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ke(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ye(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ge(n)&&Ge(o)){if(!Ye(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ge(e){return null!==e&&"object"===typeof e}class Je{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Xe(e,t){const n=new Ze(e,t);return n.subscribe.bind(n)}class Ze{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=et),void 0===r.error&&(r.error=et),void 0===r.complete&&(r.complete=et);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ad){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ad){"undefined"!==typeof console&&console.error&&console.error(ad)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function et(){}const tt=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function nt(e,t){return"".concat(e," failed: ").concat(t," argument ")}function rt(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(nt(e,t)+"must be a valid function.")}function it(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(nt(e,t)+"must be a valid context object.")}const ot=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function st(e){return e&&e._delegate?e._delegate:e}class at{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lt="[DEFAULT]";class ct{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ae;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ad){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ad){if(r)return null;throw ad}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(ad){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ad){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===lt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ct(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dt=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const ft={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},pt=ht.INFO,gt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},mt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=gt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class yt{constructor(e){this.name=e,this._logLevel=pt,this._logHandler=mt,this._userLogHandler=null,dt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ft[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const _t=(e,t)=>t.some((t=>e instanceof t));let vt,bt;const wt=new WeakMap,xt=new WeakMap,Ct=new WeakMap,St=new WeakMap,kt=new WeakMap;let Et={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ct.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Tt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bt||(bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Nt(this),n),Pt(wt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(Nt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Nt(this),t,...r);return Ct.set(o,t.sort?t.sort():[t]),Pt(o)}}function It(e){return"function"===typeof e?Tt(e):(e instanceof IDBTransaction&&function(e){if(xt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));xt.set(e,t)}(e),_t(e,vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Et):e)}function Pt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Pt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&wt.set(t,e)})).catch((()=>{})),kt.set(t,e),t}(e);if(St.has(e))return St.get(e);const t=It(e);return t!==e&&(St.set(e,t),kt.set(t,e)),t}const Nt=e=>kt.get(e);const Rt=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Dt=new Map;function Lt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Dt.get(t))return Dt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ot.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Dt.set(t,o),o}Et=(e=>({...e,get:(t,n,r)=>Lt(t,n)||e.get(t,n,r),has:(t,n)=>!!Lt(t,n)||e.has(t,n)}))(Et);class At{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const jt="@firebase/app",Ft="0.9.13",Mt=new yt("@firebase/app"),zt="[DEFAULT]",Ut={[jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,qt=new Map;function Wt(e,t){try{e.container.addComponent(t)}catch(ad){Mt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ad)}}function Ht(e,t){e.container.addOrOverwriteComponent(t)}function Vt(e){const t=e.name;if(qt.has(t))return Mt.debug("There were multiple attempts to register component ".concat(t,".")),!1;qt.set(t,e);for(const n of Bt.values())Wt(n,e);return!0}function Qt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $t(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt;Qt(e,t).clearInstance(n)}function Kt(){qt.clear()}const Yt=new Ue("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new at("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const Jt="9.23.0";function Xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:zt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yt.create("bad-app-name",{appName:String(i)});if(n||(n=Le()),!n)throw Yt.create("no-options");const o=Bt.get(i);if(o){if(Ye(n,o.options)&&Ye(r,o.config))return o;throw Yt.create("duplicate-app",{appName:i})}const s=new ut(i);for(const l of qt.values())s.addComponent(l);const a=new Gt(n,r,s);return Bt.set(i,a),a}function Zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;const t=Bt.get(e);if(!t&&e===zt&&Le())return Xt();if(!t)throw Yt.create("no-app",{appName:e});return t}function en(){return Array.from(Bt.values())}async function tn(e){const t=e.name;Bt.has(t)&&(Bt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function nn(e,t,n){var r;let i=null!==(r=Ut[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mt.warn(e.join(" "))}Vt(new at("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function rn(e,t){if(null!==e&&"function"!==typeof e)throw Yt.create("invalid-log-argument");!function(e,t){for(const n of dt){let r=null;t&&t.level&&(r=ft[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ht[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function on(e){var t;t=e,dt.forEach((e=>{e.setLogLevel(t)}))}const sn="firebase-heartbeat-database",an=1,ln="firebase-heartbeat-store";let cn=null;function un(){return cn||(cn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Pt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Pt(s.result),e.oldVersion,e.newVersion,Pt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(sn,an,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ln)}}).catch((e=>{throw Yt.create("idb-open",{originalErrorMessage:e.message})}))),cn}async function dn(e,t){try{const n=(await un()).transaction(ln,"readwrite"),r=n.objectStore(ln);await r.put(t,hn(e)),await n.done}catch(ad){if(ad instanceof ze)Mt.warn(ad.message);else{const t=Yt.create("idb-set",{originalErrorMessage:null===ad||void 0===ad?void 0:ad.message});Mt.warn(t.message)}}}function hn(e){return"".concat(e.name,"!").concat(e.options.appId)}class fn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=pn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=pn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),mn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Pe(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function pn(){return(new Date).toISOString().substring(0,10)}class gn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(ad){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Bn){t(Bn)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await un();return await t.transaction(ln).objectStore(ln).get(hn(e))}catch(ad){if(ad instanceof ze)Mt.warn(ad.message);else{const t=Yt.create("idb-get",{originalErrorMessage:null===ad||void 0===ad?void 0:ad.message});Mt.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mn(e){return Pe(JSON.stringify({version:2,heartbeats:e})).length}var yn;yn="",Vt(new at("platform-logger",(e=>new At(e)),"PRIVATE")),Vt(new at("heartbeat",(e=>new fn(e)),"PRIVATE")),nn(jt,Ft,yn),nn(jt,Ft,"esm2017"),nn("fire-js","");class _n{constructor(e,t){this._delegate=e,this.firebase=t,Wt(e,new at("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),tn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Wt(this._delegate,e)}_addOrOverwriteComponent(e){Ht(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const vn=new Ue("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const bn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ve(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:nn,setLogLevel:on,onLog:rn,apps:null,SDK_VERSION:Jt,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Vt(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw vn.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Re(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ve(n,e=e||zt))throw vn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(_n);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Re(n,e)},createSubscribe:Xe,ErrorFactory:Ue,deepExtend:Re}),n}(),wn=new yt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&wn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xn=bn;!function(e){nn("@firebase/app-compat","0.2.13",e)}();xn.registerVersion("firebase","9.23.0","app-compat");const Cn="@firebase/database",Sn="0.14.4";let kn="";function En(e){kn=e}class Tn{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:qe(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class In{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ve(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Pn=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Tn(t)}}catch(ad){}return new In},Nn=Pn("localStorage"),Rn=Pn("sessionStorage"),On=new yt("@firebase/database"),Dn=function(){let e=1;return function(){return e++}}(),Ln=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ce(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Je;n.update(t);const r=n.digest();return Ee.encodeByteArray(r)},An=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=An.apply(null,n):e+="object"===typeof n?We(n):n,e+=" "}return e};let jn=null,Fn=!0;const Mn=function(e,t){Ce(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(On.logLevel=ht.VERBOSE,jn=On.log.bind(On),t&&Rn.set("logging_enabled",!0)):"function"===typeof e?jn=e:(jn=null,Rn.remove("logging_enabled"))},zn=function(){if(!0===Fn&&(Fn=!1,null===jn&&!0===Rn.get("logging_enabled")&&Mn(!0)),jn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=An.apply(null,t);jn(r)}},Un=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zn(e,...n)}},Bn=function(){const e="FIREBASE INTERNAL ERROR: "+An(...arguments);On.error(e)},qn=function(){const e="FIREBASE FATAL ERROR: ".concat(An(...arguments));throw On.error(e),new Error(e)},Wn=function(){const e="FIREBASE WARNING: "+An(...arguments);On.warn(e)},Hn=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Vn="[MIN_NAME]",Qn="[MAX_NAME]",$n=function(e,t){if(e===t)return 0;if(e===Vn||t===Qn)return-1;if(t===Vn||e===Qn)return 1;{const n=tr(e),r=tr(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Kn=function(e,t){return e===t?0:e<t?-1:1},Yn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+We(t))},Gn=function(e){if("object"!==typeof e||null===e)return We(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=We(t[r]),n+=":",n+=Gn(e[t[r]]);return n+="}",n},Jn=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Xn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Zn=function(e){Ce(!Hn(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const er=new RegExp("^-?(0*)\\d{1,10}$"),tr=function(e){if(er.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},nr=function(e){try{e()}catch(ad){setTimeout((()=>{const t=ad.stack||"";throw Wn("Exception was thrown by user callback.",t),ad}),Math.floor(0))}},rr=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class ir{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Wn('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class or{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wn(e)}}class sr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sr.OWNER="owner";const ar="5",lr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cr="ac",ur="websocket",dr="long_polling";class hr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nn.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function fr(e,t,n){let r;if(Ce("string"===typeof t,"typeof type must == string"),Ce("object"===typeof n,"typeof params must == object"),t===ur)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==dr)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Xn(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class pr{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ve(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Re(void 0,this.counters_)}}const gr={},mr={};function yr(e){const t=e.toString();return gr[t]||(gr[t]=new pr),gr[t]}class _r{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&nr((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const vr="start";class br{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Un(e),this.stats_=yr(t),this.urlFn=e=>(this.appCheckToken&&(e[cr]=this.appCheckToken),fr(t,dr,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _r(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Me()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new wr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===vr)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[vr]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=ar,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[cr]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&lr.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){br.forceAllow_=!0}static forceDisallow(){br.forceDisallow_=!0}static isAvailable(){return!Me()&&(!!br.forceAllow_||!br.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=We(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ie(t),r=Jn(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Me())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=We(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class wr{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Me())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Dn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=wr.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(ad){zn("frame writing exception"),ad.stack&&zn(ad.stack),zn(ad)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zn("No IE domain setting required")}catch(ad){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Me()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{zn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(ad){}}),Math.floor(1))}}let xr=null;"undefined"!==typeof MozWebSocket?xr=MozWebSocket:"undefined"!==typeof WebSocket&&(xr=WebSocket);class Cr{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Un(this.connId),this.stats_=yr(t),this.connURL=Cr.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=ar,!Me()&&"undefined"!==typeof location&&location.hostname&&lr.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[cr]=r),i&&(o.p=i),fr(e,ur,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nn.set("previous_websocket_failure",!0);try{let e;if(Me()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(ar,"/").concat(kn,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new xr(this.connURL,[],e)}catch(ad){this.log_("Error instantiating WebSocket.");const t=ad.message||ad.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==xr&&!Cr.forceDisallow_}static previouslyFailed(){return Nn.isInMemoryStorage||!0===Nn.get("previous_websocket_failure")}markConnectionHealthy(){Nn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=qe(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ce(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=We(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Jn(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(ad){this.log_("Exception thrown from WebSocket.send():",ad.message||ad.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cr.responsesRequiredToBeHealthy=2,Cr.healthyTimeout=3e4;class Sr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[br,Cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Cr&&Cr.isAvailable();let n=t&&!Cr.previouslyFailed();if(e.webSocketOnly&&(t||Wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Cr];else{const e=this.transports_=[];for(const t of Sr.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Sr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sr.globalTransportInitialized_=!1;class kr{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Un("c:"+this.id+":"),this.transportManager_=new Sr(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=rr((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yn("t",e),n=Yn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yn("t",e),n=Yn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yn("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Bn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bn("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ar!==n&&Wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),rr((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rr((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Er{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Tr{constructor(e){this.allowedEvents_=e,this.listeners_={},Ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ce(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Ir extends Tr{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Fe()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Ir}getInitialEvent(e){return Ce("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Pr=32,Nr=768;class Rr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Or(){return new Rr("")}function Dr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Lr(e){return e.pieces_.length-e.pieceNum_}function Ar(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Rr(e.pieces_,t)}function jr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Mr(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Rr(t,0)}function zr(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Rr)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Rr(n,0)}function Ur(e){return e.pieceNum_>=e.pieces_.length}function Br(e,t){const n=Dr(e),r=Dr(t);if(null===n)return t;if(n===r)return Br(Ar(e),Ar(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function qr(e,t){const n=Fr(e,0),r=Fr(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=$n(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Wr(e,t){if(Lr(e)!==Lr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Hr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Lr(e)>Lr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Vr{constructor(e,t){this.errorPrefix_=t,this.parts_=Fr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=ot(this.parts_[n]);Qr(this)}}function Qr(e){if(e.byteLength_>Nr)throw new Error(e.errorPrefix_+"has a key path longer than "+Nr+" bytes ("+e.byteLength_+").");if(e.parts_.length>Pr)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pr+") or object contains a cycle "+$r(e))}function $r(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Kr extends Tr{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Kr}getInitialEvent(e){return Ce("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Yr=1e3;class Gr extends Er{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Gr.nextPersistentConnectionId_++,this.log_=Un("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Me())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kr.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ir.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(We(i)),Ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ae,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ce(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Gr.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ve(e,"w")){const n=Qe(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Wn("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=He(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=He(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Bn("Unrecognized action received from server: "+We(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Gr.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Ce(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?zn("getToken() completed but was canceled"):(zn("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new kr(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Wn(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Bn){this.log_("Failed to get token: "+Bn),o||(this.repoInfo_.nodeAdmin&&Wn(Bn),a())}}}interrupt(e){zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$e(this.interruptReasons_)&&(this.reconnectDelay_=Yr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Gn(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Rr(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){zn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){zn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Me()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+kn.replace(/\./g,"-")]=1,Fe()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ir.getInstance().currentlyOnline();return $e(this.interruptReasons_)&&e}}Gr.nextPersistentConnectionId_=0,Gr.nextConnectionId_=0;class Jr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Jr(e,t)}}class Xr{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Jr(Vn,e),r=new Jr(Vn,t);return 0!==this.compare(n,r)}minPost(){return Jr.MIN}}let Zr;class ei extends Xr{static get __EMPTY_NODE(){return Zr}static set __EMPTY_NODE(e){Zr=e}compare(e,t){return $n(e.name,t.name)}isDefinedOn(e){throw Se("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Jr.MIN}maxPost(){return new Jr(Qn,Zr)}makePost(e,t){return Ce("string"===typeof e,"KeyIndex indexValue must always be a string."),new Jr(e,Zr)}toString(){return".key"}}const ti=new ei;class ni{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ri{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ri.RED,this.left=null!=r?r:ii.EMPTY_NODE,this.right=null!=i?i:ii.EMPTY_NODE}copy(e,t,n,r,i){return new ri(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ii.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ii.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ri.RED=!0,ri.BLACK=!1;class ii{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new ii(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ri.BLACK,null,null))}remove(e){return new ii(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ri.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ni(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ni(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ni(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ni(this.root_,null,this.comparator_,!0,e)}}function oi(e,t){return $n(e.name,t.name)}function si(e,t){return $n(e,t)}let ai;ii.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ri(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const li=function(e){return"number"===typeof e?"number:"+Zn(e):"string:"+e},ci=function(e){if(e.isLeafNode()){const t=e.val();Ce("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ve(t,".sv"),"Priority must be a string or number.")}else Ce(e===ai||e.isEmpty(),"priority of unexpected type.");Ce(e===ai||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ui,di,hi;class fi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fi.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ce(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ci(this.priorityNode_)}static set __childrenNodeConstructor(e){ui=e}static get __childrenNodeConstructor(){return ui}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new fi(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:fi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ur(e)?this:".priority"===Dr(e)?this.priorityNode_:fi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:fi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Dr(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ce(".priority"!==n||1===Lr(e),".priority must be the last token in a path"),this.updateImmediateChild(n,fi.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ar(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+li(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Zn(this.value_):this.value_,this.lazyHash_=Ln(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===fi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof fi.__childrenNodeConstructor?-1:(Ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=fi.VALUE_TYPE_ORDER.indexOf(t),i=fi.VALUE_TYPE_ORDER.indexOf(n);return Ce(r>=0,"Unknown leaf type: "+t),Ce(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}fi.VALUE_TYPE_ORDER=["object","boolean","number","string"];const pi=new class extends Xr{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?$n(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Jr.MIN}maxPost(){return new Jr(Qn,new fi("[PRIORITY-POST]",hi))}makePost(e,t){const n=di(e);return new Jr(t,new fi("[PRIORITY-POST]",n))}toString(){return".priority"}},gi=Math.log(2);class mi{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/gi,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yi=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new ri(a,s.node,ri.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new ri(a,s.node,ri.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new ri(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ri.BLACK):(a(r,ri.BLACK),a(r,ri.RED))}return o}(new mi(e.length));return new ii(r||t,o)};let _i;const vi={};class bi{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ce(vi&&pi,"ChildrenNode.ts has not been loaded"),_i=_i||new bi({".priority":vi},{".priority":pi}),_i}get(e){const t=Qe(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ii?t:null}hasIndex(e){return Ve(this.indexSet_,e.toString())}addIndex(e,t){Ce(e!==ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Jr.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?yi(n,e.getCompare()):vi;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new bi(c,l)}addToIndexes(e,t){const n=Ke(this.indexes_,((n,r)=>{const i=Qe(this.indexSet_,r);if(Ce(i,"Missing index implementation for "+r),n===vi){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Jr.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),yi(n,i.getCompare())}return vi}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Jr(e.name,r))),i.insert(e,e.node)}}));return new bi(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ke(this.indexes_,(n=>{if(n===vi)return n;{const r=t.get(e.name);return r?n.remove(new Jr(e.name,r)):n}}));return new bi(n,this.indexSet_)}}let wi;class xi{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ci(this.priorityNode_),this.children_.isEmpty()&&Ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wi||(wi=new xi(new ii(si),null,bi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wi}updatePriority(e){return this.children_.isEmpty()?this:new xi(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?wi:t}}getChild(e){const t=Dr(e);return null===t?this:this.getImmediateChild(t).getChild(Ar(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ce(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Jr(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?wi:this.priorityNode_;return new xi(r,o,i)}}updateChild(e,t){const n=Dr(e);if(null===n)return t;{Ce(".priority"!==Dr(e)||1===Lr(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ar(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(pi,((o,s)=>{t[o]=s.val(e),n++,i&&xi.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+li(this.getPriority().val())+":"),this.forEachChild(pi,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ln(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Jr(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Jr(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Jr(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Jr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Jr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ci?-1:0}withIndex(e){if(e===ti||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new xi(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ti||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(pi),n=t.getIterator(pi);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===ti?null:this.indexMap_.get(e.toString())}}xi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ci=new class extends xi{constructor(){super(new ii(si),xi.EMPTY_NODE,bi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Jr,{MIN:{value:new Jr(Vn,xi.EMPTY_NODE)},MAX:{value:new Jr(Qn,Ci)}}),ei.__EMPTY_NODE=xi.EMPTY_NODE,fi.__childrenNodeConstructor=xi,ai=Ci,function(e){hi=e}(Ci);const Si=!0;function ki(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return xi.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ce(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new fi(e,ki(t))}if(e instanceof Array||!Si){let n=xi.EMPTY_NODE;return Xn(e,((t,r)=>{if(Ve(e,t)&&"."!==t.substring(0,1)){const e=ki(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(ki(t))}{const n=[];let r=!1;if(Xn(e,((e,t)=>{if("."!==e.substring(0,1)){const i=ki(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Jr(e,i)))}})),0===n.length)return xi.EMPTY_NODE;const i=yi(n,oi,(e=>e.name),si);if(r){const e=yi(n,pi.getCompare());return new xi(i,ki(t),new bi({".priority":e},{".priority":pi}))}return new xi(i,ki(t),bi.Default)}}!function(e){di=e}(ki);class Ei extends Xr{constructor(e){super(),this.indexPath_=e,Ce(!Ur(e)&&".priority"!==Dr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?$n(e.name,t.name):i}makePost(e,t){const n=ki(e),r=xi.EMPTY_NODE.updateChild(this.indexPath_,n);return new Jr(t,r)}maxPost(){const e=xi.EMPTY_NODE.updateChild(this.indexPath_,Ci);return new Jr(Qn,e)}toString(){return Fr(this.indexPath_,0).join("/")}}const Ti=new class extends Xr{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?$n(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Jr.MIN}maxPost(){return Jr.MAX}makePost(e,t){const n=ki(e);return new Jr(t,n)}toString(){return".value"}};function Ii(e){return{type:"value",snapshotNode:e}}function Pi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ni(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ri(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Oi{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Ce(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Ni(t,s)):Ce(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Pi(t,n)):o.trackChildChange(Ri(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(pi,((e,r)=>{t.hasChild(e)||n.trackChildChange(Ni(e,r))})),t.isLeafNode()||t.forEachChild(pi,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ri(t,r,i))}else n.trackChildChange(Pi(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?xi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Di{constructor(e){this.indexedFilter_=new Oi(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Di.getStartPost_(e),this.endPost_=Di.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Jr(t,n))||(n=xi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=xi.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(xi.EMPTY_NODE);const i=this;return t.forEachChild(pi,((e,t)=>{i.matches(new Jr(e,t))||(r=r.updateImmediateChild(e,xi.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Li{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Di(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Jr(t,n))||(n=xi.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=xi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=xi.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(xi.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,xi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Ce(s.numChildren()===this.limit_,"");const a=new Jr(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ri(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Ni(t,e));const n=s.updateImmediateChild(t,xi.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Pi(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(Ni(l.name,l.node)),i.trackChildChange(Pi(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,xi.EMPTY_NODE)):e}}class Ai{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vn}hasEnd(){return this.endSet_}getIndexEndValue(){return Ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pi}copy(){const e=new Ai;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ji(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Fi(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Mi(e,t){const n=e.copy();return n.index_=t,n}function zi(e){const t={};if(e.isDefault())return t;let n;if(e.index_===pi?n="$priority":e.index_===Ti?n="$value":e.index_===ti?n="$key":(Ce(e.index_ instanceof Ei,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=We(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=We(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+We(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=We(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+We(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ui(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==pi&&(t.i=e.index_.toString()),t}class Bi extends Er{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Un("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Bi.getListenId_(e,n),s={};this.listens_[o]=s;const a=zi(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Qe(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Bi.getListenId_(e,t);delete this.listens_[n]}get(e){const t=zi(e._queryParams),n=e._path.toString(),r=new Ae;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=qe(a.responseText)}catch(ad){Wn("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Wn("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class qi{constructor(){this.rootNode_=xi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Wi(){return{value:null,children:new Map}}function Hi(e,t,n){if(Ur(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Dr(t);e.children.has(r)||e.children.set(r,Wi());Hi(e.children.get(r),t=Ar(t),n)}}function Vi(e,t){if(Ur(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(pi,((t,n)=>{Hi(e,new Rr(t),n)})),Vi(e,t)}}if(e.children.size>0){const n=Dr(t);if(t=Ar(t),e.children.has(n)){Vi(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Qi(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Qi(r,new Rr(t.toString()+"/"+e),n)}))}class $i{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xn(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Ki{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $i(e);const n=1e4+2e4*Math.random();rr(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Xn(e,((e,r)=>{r>0&&Ve(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),rr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yi;function Gi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Yi||(Yi={}));class Ji{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Yi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ur(this.path)){if(null!=this.affectedTree.value)return Ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Rr(e));return new Ji(Or(),t,this.revert)}}return Ce(Dr(this.path)===e,"operationForChild called for unrelated child."),new Ji(Ar(this.path),this.affectedTree,this.revert)}}class Xi{constructor(e,t){this.source=e,this.path=t,this.type=Yi.LISTEN_COMPLETE}operationForChild(e){return Ur(this.path)?new Xi(this.source,Or()):new Xi(this.source,Ar(this.path))}}class Zi{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Yi.OVERWRITE}operationForChild(e){return Ur(this.path)?new Zi(this.source,Or(),this.snap.getImmediateChild(e)):new Zi(this.source,Ar(this.path),this.snap)}}class eo{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Yi.MERGE}operationForChild(e){if(Ur(this.path)){const t=this.children.subtree(new Rr(e));return t.isEmpty()?null:t.value?new Zi(this.source,Or(),t.value):new eo(this.source,Or(),t)}return Ce(Dr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new eo(this.source,Ar(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class to{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ur(e))return this.isFullyInitialized()&&!this.filtered_;const t=Dr(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class no{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ro(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Se("Should only compare child_ events.");const r=new Jr(t.childName,t.snapshotNode),i=new Jr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function io(e,t){return{eventCache:e,serverCache:t}}function oo(e,t,n,r){return io(new to(t,n,r),e.serverCache)}function so(e,t,n,r){return io(e.eventCache,new to(t,n,r))}function ao(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function lo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let co;class uo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(co||(co=new ii(Kn)),co);this.value=e,this.children=t}static fromObject(e){let t=new uo(null);return Xn(e,((e,n)=>{t=t.set(new Rr(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Or(),value:this.value};if(Ur(e))return null;{const n=Dr(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Ar(e),t);if(null!=i){return{path:zr(new Rr(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Ur(e))return this;{const t=Dr(e),n=this.children.get(t);return null!==n?n.subtree(Ar(e)):new uo(null)}}set(e,t){if(Ur(e))return new uo(t,this.children);{const n=Dr(e),r=(this.children.get(n)||new uo(null)).set(Ar(e),t),i=this.children.insert(n,r);return new uo(this.value,i)}}remove(e){if(Ur(e))return this.children.isEmpty()?new uo(null):new uo(null,this.children);{const t=Dr(e),n=this.children.get(t);if(n){const r=n.remove(Ar(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new uo(null):new uo(this.value,i)}return this}}get(e){if(Ur(e))return this.value;{const t=Dr(e),n=this.children.get(t);return n?n.get(Ar(e)):null}}setTree(e,t){if(Ur(e))return t;{const n=Dr(e),r=(this.children.get(n)||new uo(null)).setTree(Ar(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new uo(this.value,i)}}fold(e){return this.fold_(Or(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(zr(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Or(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Ur(e))return null;{const r=Dr(e),i=this.children.get(r);return i?i.findOnPath_(Ar(e),zr(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Or(),t)}foreachOnPath_(e,t,n){if(Ur(e))return this;{this.value&&n(t,this.value);const r=Dr(e),i=this.children.get(r);return i?i.foreachOnPath_(Ar(e),zr(t,r),n):new uo(null)}}foreach(e){this.foreach_(Or(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(zr(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class ho{constructor(e){this.writeTree_=e}static empty(){return new ho(new uo(null))}}function fo(e,t,n){if(Ur(t))return new ho(new uo(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Br(i,t);return o=o.updateChild(s,n),new ho(e.writeTree_.set(i,o))}{const r=new uo(n),i=e.writeTree_.setTree(t,r);return new ho(i)}}}function po(e,t,n){let r=e;return Xn(n,((e,n)=>{r=fo(r,zr(t,e),n)})),r}function go(e,t){if(Ur(t))return ho.empty();{const n=e.writeTree_.setTree(t,new uo(null));return new ho(n)}}function mo(e,t){return null!=yo(e,t)}function yo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Br(n.path,t)):null}function _o(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pi,((e,n)=>{t.push(new Jr(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Jr(e,n.value))})),t}function vo(e,t){if(Ur(t))return e;{const n=yo(e,t);return new ho(null!=n?new uo(n):e.writeTree_.subtree(t))}}function bo(e){return e.writeTree_.isEmpty()}function wo(e,t){return xo(Or(),e.writeTree_,t)}function xo(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Ce(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=xo(zr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zr(e,".priority"),r)),n}}function Co(e,t){return jo(t,e)}function So(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Ce(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&ko(t,r.path)?i=!1:Hr(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=To(e.allWrites,Eo,Or()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=go(e.visibleWrites,r.path);else{Xn(r.children,(t=>{e.visibleWrites=go(e.visibleWrites,zr(r.path,t))}))}return!0}return!1}function ko(e,t){if(e.snap)return Hr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Hr(zr(e.path,n),t))return!0;return!1}function Eo(e){return e.visible}function To(e,t,n){let r=ho.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Hr(n,e)?(t=Br(n,e),r=fo(r,t,o.snap)):Hr(e,n)&&(t=Br(e,n),r=fo(r,Or(),o.snap.getChild(t)));else{if(!o.children)throw Se("WriteRecord should have .snap or .children");if(Hr(n,e))t=Br(n,e),r=po(r,t,o.children);else if(Hr(e,n))if(t=Br(e,n),Ur(t))r=po(r,Or(),o.children);else{const e=Qe(o.children,Dr(t));if(e){const n=e.getChild(Ar(t));r=fo(r,Or(),n)}}}}}return r}function Io(e,t,n,r,i){if(r||i){const o=vo(e.visibleWrites,t);if(!i&&bo(o))return n;if(i||null!=n||mo(o,Or())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Hr(e.path,t)||Hr(t,e.path))};return wo(To(e.allWrites,o,t),n||xi.EMPTY_NODE)}return null}{const r=yo(e.visibleWrites,t);if(null!=r)return r;{const r=vo(e.visibleWrites,t);if(bo(r))return n;if(null!=n||mo(r,Or())){return wo(r,n||xi.EMPTY_NODE)}return null}}}function Po(e,t,n,r){return Io(e.writeTree,e.treePath,t,n,r)}function No(e,t){return function(e,t,n){let r=xi.EMPTY_NODE;const i=yo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pi,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=vo(e.visibleWrites,t);return n.forEachChild(pi,((e,t)=>{const n=wo(vo(i,new Rr(e)),t);r=r.updateImmediateChild(e,n)})),_o(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return _o(vo(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ro(e,t,n,r){return function(e,t,n,r,i){Ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=zr(t,n);if(mo(e.visibleWrites,o))return null;{const t=vo(e.visibleWrites,o);return bo(t)?i.getChild(n):wo(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Oo(e,t){return function(e,t){return yo(e.visibleWrites,t)}(e.writeTree,zr(e.treePath,t))}function Do(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=vo(e.visibleWrites,t),c=yo(l,Or());if(null!=c)a=c;else{if(null==n)return[];a=wo(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Lo(e,t,n){return function(e,t,n,r){const i=zr(t,n),o=yo(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return wo(vo(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ao(e,t){return jo(zr(e.treePath,t),e.writeTree)}function jo(e,t){return{treePath:e,writeTree:t}}class Fo{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ce("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ce(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ri(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ni(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Pi(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Se("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ri(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Mo=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class zo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new to(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lo(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lo(this.viewCache_),i=Do(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Uo(e,t,n,r,i){const o=new Fo;let s,a;if(n.type===Yi.OVERWRITE){const l=n;l.source.fromUser?s=Wo(e,t,l.path,l.snap,r,i,o):(Ce(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Ur(l.path),s=qo(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Yi.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=zr(n,r);Ho(t,Dr(c))&&(a=Wo(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=zr(n,r);Ho(t,Dr(c))||(a=Wo(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(Ce(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Qo(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Yi.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Oo(r,n))return t;{const a=new zo(r,t,i),l=t.eventCache.getNode();let c;if(Ur(n)||".priority"===Dr(n)){let n;if(t.serverCache.isFullyInitialized())n=Po(r,lo(t));else{const e=t.serverCache.getNode();Ce(e instanceof xi,"serverChildren would be complete if leaf node"),n=No(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Dr(n);let u=Lo(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Ar(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,xi.EMPTY_NODE,Ar(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Po(r,lo(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Oo(r,Or()),oo(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Oo(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Ur(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qo(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Ur(n)){let r=new uo(null);return l.getNode().forEachChild(ti,((e,t)=>{r=r.set(new Rr(e),t)})),Qo(e,t,n,r,i,o,a,s)}return t}{let c=new uo(null);return r.foreach(((e,t)=>{const r=zr(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Qo(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Yi.LISTEN_COMPLETE)throw Se("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=so(t,o.getNode(),o.isFullyInitialized()||Ur(n),o.isFiltered());return Bo(e,s,n,r,Mo,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ao(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ii(ao(t)))}}(t,s,l),{viewCache:s,changes:l}}function Bo(e,t,n,r,i,o){const s=t.eventCache;if(null!=Oo(r,n))return t;{let a,l;if(Ur(n))if(Ce(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=lo(t),i=No(r,n instanceof xi?n:xi.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Po(r,lo(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Dr(n);if(".priority"===c){Ce(1===Lr(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=Ro(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=Ar(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Ro(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=Lo(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return oo(t,a,s.isFullyInitialized()||Ur(n),e.filter.filtersNodes())}}function qo(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(Ur(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Dr(n);if(!l.isCompleteForPath(n)&&Lr(n)>1)return t;const i=Ar(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Mo,null)}const d=so(t,c,l.isFullyInitialized()||Ur(n),u.filtersNodes());return Bo(e,d,n,i,new zo(i,d,o),a)}function Wo(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new zo(i,t,o);if(Ur(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=oo(t,c,!0,e.filter.filtersNodes());else{const i=Dr(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=oo(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=Ar(n),c=a.getNode().getImmediateChild(i);let d;if(Ur(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===jr(o)&&e.getChild(Mr(o)).isEmpty()?e:e.updateChild(o,r):xi.EMPTY_NODE}if(c.equals(d))l=t;else{l=oo(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Ho(e,t){return e.eventCache.isCompleteForChild(t)}function Vo(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Qo(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Ur(n)?r:new uo(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Vo(0,t.serverCache.getNode().getImmediateChild(n),r);c=qo(e,c,new Rr(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Vo(0,t.serverCache.getNode().getImmediateChild(n),r);c=qo(e,c,new Rr(n),l,i,o,s,a)}})),c}class $o{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Oi(n.getIndex()),i=(o=n).loadsAllData()?new Oi(o.getIndex()):o.hasLimit()?new Li(o):new Di(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(xi.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(xi.EMPTY_NODE,a.getNode(),null),u=new to(l,s.isFullyInitialized(),r.filtersNodes()),d=new to(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=io(d,u),this.eventGenerator_=new no(this.query_)}get query(){return this.query_}}function Ko(e,t){const n=lo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ur(t)&&!n.getImmediateChild(Dr(t)).isEmpty())?n.getChild(t):null}function Yo(e){return 0===e.eventRegistrations_.length}function Go(e,t,n){const r=[];if(n){Ce(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Jo(e,t,n,r){t.type===Yi.MERGE&&null!==t.source.queryId&&(Ce(lo(e.viewCache_),"We should always have a full cache before handling merges"),Ce(ao(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Uo(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Ce(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Ce(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Ce(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Xo(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Xo(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ro(e,i,"child_removed",t,r,n),ro(e,i,"child_added",t,r,n),ro(e,i,"child_moved",o,r,n),ro(e,i,"child_changed",t,r,n),ro(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Zo,es;class ts{constructor(){this.views=new Map}}function ns(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Ce(null!=o,"SyncTree gave us an op for an invalid query."),Jo(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Jo(o,t,n,r));return i}}function rs(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Po(n,i?r:null),o=!1;e?o=!0:r instanceof xi?(e=No(n,r),o=!1):(e=xi.EMPTY_NODE,o=!1);const s=io(new to(e,o,!1),new to(r,i,!1));return new $o(t,s)}return s}function is(e,t,n,r,i,o){const s=rs(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(pi,((e,t)=>{r.push(Pi(e,t))}));return n.isFullyInitialized()&&r.push(Ii(n.getNode())),Xo(e,r,n.getNode(),t)}(s,n)}function os(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=us(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(Go(c,n,r)),Yo(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(Go(t,n,r)),Yo(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!us(e)&&o.push(new(Ce(Zo,"Reference.ts has not been loaded"),Zo)(t._repo,t._path)),{removed:o,events:s}}function ss(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function as(e,t){let n=null;for(const r of e.views.values())n=n||Ko(r,t);return n}function ls(e,t){if(t._queryParams.loadsAllData())return ds(e);{const n=t._queryIdentifier;return e.views.get(n)}}function cs(e,t){return null!=ls(e,t)}function us(e){return null!=ds(e)}function ds(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let hs=1;class fs{constructor(e){this.listenProvider_=e,this.syncPointTree_=new uo(null),this.pendingWriteTree_={visibleWrites:ho.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ps(e,t,n,r,i){return function(e,t,n,r,i){Ce(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=fo(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Cs(e,new Zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function gs(e,t,n,r){!function(e,t,n,r){Ce(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=po(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=uo.fromObject(n);return Cs(e,new eo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(So(e.pendingWriteTree_,t)){let t=new uo(null);return null!=r.snap?t=t.set(Or(),!0):Xn(r.children,(e=>{t=t.set(new Rr(e),!0)})),Cs(e,new Ji(r.path,t,n))}return[]}function ys(e,t,n){return Cs(e,new Zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _s(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||cs(s,t))){const l=os(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>us(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&us(t)){return[ds(t)]}{let e=[];return t&&(e=ss(t)),Xn(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Es(e,r);e.listenProvider_.startListening(Os(i),Ts(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Os(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Is(t));e.listenProvider_.stopListening(Os(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Is(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function vs(e,t,n,r){const i=Ps(e,r);if(null!=i){const r=Ns(i),o=r.path,s=r.queryId,a=Br(o,t);return Rs(e,o,new Zi(Gi(s),a,n))}return[]}function bs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Br(e,i);o=o||as(t,n),s=s||us(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||us(l),o=o||as(l,Or())):(l=new ts,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=xi.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=as(t,Or());n&&(o=o.updateImmediateChild(e,n))}))}const c=cs(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Is(t);Ce(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=hs++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=is(l,t,n,Co(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=ls(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Ts(e,t),o=Es(e,n),s=e.listenProvider_.startListening(Os(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ce(!us(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Ur(e)&&t&&us(t))return[ds(t).query];{let e=[];return t&&(e=e.concat(ss(t).map((e=>e.query)))),Xn(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Os(r),Ts(e,r))}}return s}(e,t,n))}return u}function ws(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=as(n,Br(e,t));if(r)return r}));return Io(r,t,i,n,!0)}function xs(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Br(e,n);r=r||as(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||as(i,Or()):(i=new ts,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new to(r,!0,!1):null;return function(e){return ao(e.viewCache_)}(rs(i,t,Co(e.pendingWriteTree_,t._path),o?s.getNode():xi.EMPTY_NODE,o))}function Cs(e,t){return Ss(t,e.syncPointTree_,null,Co(e.pendingWriteTree_,Or()))}function Ss(e,t,n,r){if(Ur(e.path))return ks(e,t,n,r);{const i=t.get(Or());null==n&&null!=i&&(n=as(i,Or()));let o=[];const s=Dr(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Ao(r,s);o=o.concat(Ss(a,l,e,t))}return i&&(o=o.concat(ns(i,e,r,n))),o}}function ks(e,t,n,r){const i=t.get(Or());null==n&&null!=i&&(n=as(i,Or()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Ao(r,t),l=e.operationForChild(t);l&&(o=o.concat(ks(l,i,s,a)))})),i&&(o=o.concat(ns(i,e,r,n))),o}function Es(e,t){const n=t.query,r=Ts(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||xi.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ps(e,n);if(r){const n=Ns(r),i=n.path,o=n.queryId,s=Br(i,t);return Rs(e,i,new Xi(Gi(o),s))}return[]}(e,n._path,r):function(e,t){return Cs(e,new Xi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _s(e,n,null,r)}}}}function Ts(e,t){const n=Is(t);return e.queryToTagMap.get(n)}function Is(e){return e._path.toString()+"$"+e._queryIdentifier}function Ps(e,t){return e.tagToQueryMap.get(t)}function Ns(e){const t=e.indexOf("$");return Ce(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Rr(e.substr(0,t))}}function Rs(e,t,n){const r=e.syncPointTree_.get(t);Ce(r,"Missing sync point for query tag that we're tracking");return ns(r,n,Co(e.pendingWriteTree_,t),null)}function Os(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ce(es,"Reference.ts has not been loaded"),es)(e._repo,e._path):e}class Ds{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ds(t)}node(){return this.node_}}class Ls{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zr(this.path_,e);return new Ls(this.syncTree_,t)}node(){return ws(this.syncTree_,this.path_)}}const As=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},js=function(e,t,n){return e&&"object"===typeof e?(Ce(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Fs(e[".sv"],t,n):"object"===typeof e[".sv"]?Ms(e[".sv"],t):void Ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Fs=function(e,t,n){if("timestamp"===e)return n.timestamp;Ce(!1,"Unexpected server value: "+e)},Ms=function(e,t,n){e.hasOwnProperty("increment")||Ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ce(!1,"Unexpected increment value: "+r);const i=t.node();if(Ce(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},zs=function(e,t,n,r){return Bs(t,new Ls(n,e),r)},Us=function(e,t,n){return Bs(e,new Ds(t),n)};function Bs(e,t,n){const r=e.getPriority().val(),i=js(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=js(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new fi(o,ki(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new fi(i))),r.forEachChild(pi,((e,r)=>{const i=Bs(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class qs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Ws(e,t){let n=t instanceof Rr?t:new Rr(t),r=e,i=Dr(n);for(;null!==i;){const e=Qe(r.node.children,i)||{children:{},childCount:0};r=new qs(i,r,e),n=Ar(n),i=Dr(n)}return r}function Hs(e){return e.node.value}function Vs(e,t){e.node.value=t,Gs(e)}function Qs(e){return e.node.childCount>0}function $s(e,t){Xn(e.node.children,((n,r)=>{t(new qs(n,e,r))}))}function Ks(e,t,n,r){n&&!r&&t(e),$s(e,(e=>{Ks(e,t,!0,r)})),n&&r&&t(e)}function Ys(e){return new Rr(null===e.parent?e.name:Ys(e.parent)+"/"+e.name)}function Gs(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Hs(e)&&!Qs(e)}(n),i=Ve(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gs(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gs(e))}(e.parent,e.name,e)}const Js=/[\[\].#$\/\u0000-\u001F\u007F]/,Xs=/[\[\].#$\u0000-\u001F\u007F]/,Zs=10485760,ea=function(e){return"string"===typeof e&&0!==e.length&&!Js.test(e)},ta=function(e){return"string"===typeof e&&0!==e.length&&!Xs.test(e)},na=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Hn(e)||e&&"object"===typeof e&&Ve(e,".sv")},ra=function(e,t,n,r){r&&void 0===t||ia(nt(e,"value"),t,n)},ia=function(e,t,n){const r=n instanceof Rr?new Vr(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+$r(r));if("function"===typeof t)throw new Error(e+"contains a function "+$r(r)+" with contents = "+t.toString());if(Hn(t))throw new Error(e+"contains "+t.toString()+" "+$r(r));if("string"===typeof t&&t.length>Zs/3&&ot(t)>Zs)throw new Error(e+"contains a string greater than "+Zs+" utf8 bytes "+$r(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Xn(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!ea(t)))throw new Error(e+" contains an invalid key ("+t+") "+$r(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ot(t),Qr(e)}(r,t),ia(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=ot(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+$r(r)+" in addition to actual children.")}},oa=function(e,t,n,r){if(r&&void 0===t)return;const i=nt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Xn(t,((e,t)=>{const r=new Rr(e);if(ia(i,t,zr(n,r)),".priority"===jr(r)&&!na(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Fr(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!ea(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(qr);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Hr(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},sa=function(e,t,n){if(!n||void 0!==t){if(Hn(t))throw new Error(nt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!na(t))throw new Error(nt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},aa=function(e,t,n,r){if((!r||void 0!==n)&&!ea(n))throw new Error(nt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},la=function(e,t,n,r){if((!r||void 0!==n)&&!ta(n))throw new Error(nt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ca=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),la(e,t,n,r)},ua=function(e,t){if(".info"===Dr(t))throw new Error(e+" failed = Can't modify data under /.info/")},da=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ea(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ta(e)}(n))throw new Error(nt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ha{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fa(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Wr(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function pa(e,t,n){fa(e,n),ma(e,(e=>Wr(e,t)))}function ga(e,t,n){fa(e,n),ma(e,(e=>Hr(e,t)||Hr(t,e)))}function ma(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(ya(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ya(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();jn&&zn("event: "+n.toString()),nr(r)}}}const _a="repo_interrupt",va=25;class ba{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ha,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wi(),this.transactionQueueTree_=new qs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wa(e,t,n){if(e.stats_=yr(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Bi(e.repoInfo_,((t,n,r,i)=>{Sa(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ka(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(ad){throw new Error("Invalid authOverride provided: "+ad)}}e.persistentConnection_=new Gr(e.repoInfo_,t,((t,n,r,i)=>{Sa(e,t,n,r,i)}),(t=>{ka(e,t)}),(t=>{!function(e,t){Xn(t,((t,n)=>{Ea(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return mr[n]||(mr[n]=t()),mr[n]}(e.repoInfo_,(()=>new Ki(e.stats_,e.server_))),e.infoData_=new qi,e.infoSyncTree_=new fs({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=ys(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Ea(e,"connected",!1),e.serverSyncTree_=new fs({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);ga(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function xa(e){const t=e.infoData_.getNode(new Rr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ca(e){return As({timestamp:xa(e)})}function Sa(e,t,n,r,i){e.dataUpdateCount++;const o=new Rr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Ke(n,(e=>ki(e)));s=function(e,t,n,r){const i=Ps(e,r);if(i){const r=Ns(i),o=r.path,s=r.queryId,a=Br(o,t),l=uo.fromObject(n);return Rs(e,o,new eo(Gi(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=ki(n);s=vs(e.serverSyncTree_,o,t,i)}else if(r){const t=Ke(n,(e=>ki(e)));s=function(e,t,n){const r=uo.fromObject(n);return Cs(e,new eo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=ki(n);s=ys(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Fa(e,o)),ga(e.eventQueue_,a,s)}function ka(e,t){Ea(e,"connected",t),!1===t&&function(e){Da(e,"onDisconnectEvents");const t=Ca(e),n=Wi();Qi(e.onDisconnect_,Or(),((r,i)=>{const o=zs(r,i,e.serverSyncTree_,t);Hi(n,r,o)}));let r=[];Qi(n,Or(),((t,n)=>{r=r.concat(ys(e.serverSyncTree_,t,n));const i=qa(e,t);Fa(e,i)})),e.onDisconnect_=Wi(),ga(e.eventQueue_,Or(),r)}(e)}function Ea(e,t,n){const r=new Rr("/.info/"+t),i=ki(n);e.infoData_.updateSnapshot(r,i);const o=ys(e.infoSyncTree_,r,i);ga(e.eventQueue_,r,o)}function Ta(e){return e.nextWriteId_++}function Ia(e,t,n,r,i){Da(e,"set",{path:t.toString(),value:n,priority:r});const o=Ca(e),s=ki(n,r),a=ws(e.serverSyncTree_,t),l=Us(s,a,o),c=Ta(e),u=ps(e.serverSyncTree_,t,l,c,!0);fa(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||Wn("set at "+t+" failed: "+n);const s=ms(e.serverSyncTree_,c,!o);ga(e.eventQueue_,t,s),La(e,i,n,r)}));const d=qa(e,t);Fa(e,d),ga(e.eventQueue_,d,[])}function Pa(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&Vi(e.onDisconnect_,t),La(e,n,r,i)}))}function Na(e,t,n,r){const i=ki(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&Hi(e.onDisconnect_,t,i),La(e,r,n,o)}))}function Ra(e,t,n){let r;r=".info"===Dr(t._path)?_s(e.infoSyncTree_,t,n):_s(e.serverSyncTree_,t,n),pa(e.eventQueue_,t._path,r)}function Oa(e){e.persistentConnection_&&e.persistentConnection_.interrupt(_a)}function Da(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zn(t,...r)}function La(e,t,n,r){t&&nr((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Aa(e,t,n){return ws(e.serverSyncTree_,t,n)||xi.EMPTY_NODE}function ja(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ba(e,t),Hs(t)){const n=za(e,t);Ce(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Aa(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ce(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Br(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{Da(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ms(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ba(e,Ws(e.transactionQueueTree_,t)),ja(e,e.transactionQueueTree_),ga(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)nr(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Wn("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Fa(e,t)}}),s)}(e,Ys(t),n)}else Qs(t)&&$s(t,(t=>{ja(e,t)}))}function Fa(e,t){const n=Ma(e,t),r=Ys(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=Br(n,o.path);let u,d=!1;if(Ce(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(ms(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=va)d=!0,u="maxretry",i=i.concat(ms(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Aa(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){ia("transaction failed: Data returned ",r,o.path);let t=ki(r);"object"===typeof r&&null!=r&&Ve(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Ca(e),c=Us(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=Ta(e),s.splice(s.indexOf(a),1),i=i.concat(ps(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(ms(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(ms(e.serverSyncTree_,o.currentWriteId,!0))}ga(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;Ba(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)nr(r[l]);ja(e,e.transactionQueueTree_)}(e,za(e,n),r),r}function Ma(e,t){let n,r=e.transactionQueueTree_;for(n=Dr(t);null!==n&&void 0===Hs(r);)r=Ws(r,n),n=Dr(t=Ar(t));return r}function za(e,t){const n=[];return Ua(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Ua(e,t,n){const r=Hs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$s(t,(t=>{Ua(e,t,n)}))}function Ba(e,t){const n=Hs(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Vs(t,n.length>0?n:void 0)}$s(t,(t=>{Ba(e,t)}))}function qa(e,t){const n=Ys(Ma(e,t)),r=Ws(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Wa(e,t)})),Wa(e,r),Ks(r,(t=>{Wa(e,t)})),n}function Wa(e,t){const n=Hs(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ce(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Ce(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ms(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Vs(t,void 0):n.length=o+1,ga(e.eventQueue_,Ys(t),i);for(let e=0;e<r.length;e++)nr(r[e])}}const Ha=function(e,t){const n=Va(e),r=n.namespace;"firebase.com"===n.domain&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new hr(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Rr(n.pathString)}},Va=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(ad){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wn("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Qa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$a=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Qa.charAt(n%64),n=Math.floor(n/64);Ce(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Qa.charAt(t[i]);return Ce(20===s.length,"nextPushId: Length should be 20."),s}}();class Ka{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class Ya{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ga{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ja{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Ae;return Pa(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){ua("OnDisconnect.remove",this._path);const e=new Ae;return Na(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){ua("OnDisconnect.set",this._path),ra("OnDisconnect.set",e,this._path,!1);const t=new Ae;return Na(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){ua("OnDisconnect.setWithPriority",this._path),ra("OnDisconnect.setWithPriority",e,this._path,!1),sa("OnDisconnect.setWithPriority",t,!1);const n=new Ae;return function(e,t,n,r,i){const o=ki(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&Hi(e.onDisconnect_,t,o),La(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){ua("OnDisconnect.update",this._path),oa("OnDisconnect.update",e,this._path,!1);const t=new Ae;return function(e,t,n,r){if($e(n))return zn("onDisconnect().update() called with empty data.  Don't do anything."),void La(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&Xn(n,((n,r)=>{const i=ki(r);Hi(e.onDisconnect_,zr(t,n),i)})),La(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class Xa{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Ur(this._path)?null:jr(this._path)}get ref(){return new nl(this._repo,this._path)}get _queryIdentifier(){const e=Ui(this._queryParams),t=Gn(e);return"{}"===t?"default":t}get _queryObject(){return Ui(this._queryParams)}isEqual(e){if(!((e=st(e))instanceof Xa))return!1;const t=this._repo===e._repo,n=Wr(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Za(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function el(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ti){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Vn)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Qn)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===pi){if(null!=t&&!na(t)||null!=n&&!na(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ce(e.getIndex()instanceof Ei||e.getIndex()===Ti,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function tl(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nl extends Xa{constructor(e,t){super(e,t,new Ai,!1)}get parent(){const e=Mr(this._path);return null===e?null:new nl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class rl{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Rr(e),n=sl(this.ref,e);return new rl(this._node.getChild(t),n,pi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new rl(n,sl(this.ref,t),pi))))}hasChild(e){const t=new Rr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function il(e,t){return(e=st(e))._checkNotDeleted("ref"),void 0!==t?sl(e._root,t):e._root}function ol(e,t){(e=st(e))._checkNotDeleted("refFromURL");const n=Ha(t,e._repo.repoInfo_.nodeAdmin);da("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||qn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),il(e,n.path.toString())}function sl(e,t){return null===Dr((e=st(e))._path)?ca("child","path",t,!1):la("child","path",t,!1),new nl(e._repo,zr(e._path,t))}function al(e,t){e=st(e),ua("set",e._path),ra("set",t,e._path,!1);const n=new Ae;return Ia(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function ll(e,t){oa("update",t,e._path,!1);const n=new Ae;return function(e,t,n,r){Da(e,"update",{path:t.toString(),value:n});let i=!0;const o=Ca(e),s={};if(Xn(n,((n,r)=>{i=!1,s[n]=zs(zr(t,n),ki(r),e.serverSyncTree_,o)})),i)zn("update() called with empty data.  Don't do anything."),La(0,r,"ok",void 0);else{const i=Ta(e),o=gs(e.serverSyncTree_,t,s,i);fa(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||Wn("update at "+t+" failed: "+n);const a=ms(e.serverSyncTree_,i,!s),l=a.length>0?Fa(e,t):t;ga(e.eventQueue_,l,a),La(0,r,n,o)})),Xn(n,(n=>{const r=qa(e,zr(t,n));Fa(e,r)})),ga(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function cl(e){e=st(e);const t=new Ga((()=>{})),n=new ul(t);return function(e,t,n){const r=xs(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=ki(r).withIndex(t._queryParams.getIndex());let o;if(bs(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=ys(e.serverSyncTree_,t._path,i);else{const n=Ts(e.serverSyncTree_,t);o=vs(e.serverSyncTree_,t._path,i,n)}return ga(e.eventQueue_,t._path,o),_s(e.serverSyncTree_,t,n,null,!0),i}),(n=>(Da(e,"get for query "+We(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new rl(t,new nl(e._repo,e._path),e._queryParams.getIndex())))}class ul{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ka("value",this,new rl(e.snapshotNode,new nl(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ya(this,e,t):null}matches(e){return e instanceof ul&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dl{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ya(this,e,t):null}createEvent(e,t){Ce(null!=e.childName,"Child events should have a childName.");const n=sl(new nl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ka(e.type,this,new rl(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof dl&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function hl(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Ra(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Ga(n,o||void 0),a="value"===t?new ul(s):new dl(t,s);return function(e,t,n){let r;r=".info"===Dr(t._path)?bs(e.infoSyncTree_,t,n):bs(e.serverSyncTree_,t,n),pa(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Ra(e._repo,e,a)}function fl(e,t,n,r){return hl(e,"value",t,n,r)}function pl(e,t,n,r){return hl(e,"child_added",t,n,r)}function gl(e,t,n,r){return hl(e,"child_changed",t,n,r)}function ml(e,t,n,r){return hl(e,"child_moved",t,n,r)}function yl(e,t,n,r){return hl(e,"child_removed",t,n,r)}function _l(e,t,n){let r=null;const i=n?new Ga(n):null;"value"===t?r=new ul(i):t&&(r=new dl(t,i)),Ra(e._repo,e,r)}class vl{}class bl extends vl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ra("endAt",this._value,e._path,!0);const t=Fi(e._queryParams,this._value,this._key);if(tl(t),el(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xa(e._repo,e._path,t,e._orderByCalled)}}class wl extends vl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ra("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===ti||n?Fi(e,t,n):Fi(e,t,Vn),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(tl(t),el(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xa(e._repo,e._path,t,e._orderByCalled)}}class xl extends vl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ra("startAt",this._value,e._path,!0);const t=ji(e._queryParams,this._value,this._key);if(tl(t),el(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xa(e._repo,e._path,t,e._orderByCalled)}}class Cl extends vl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ra("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===ti||n?ji(e,t,n):ji(e,t,Qn),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(tl(t),el(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xa(e._repo,e._path,t,e._orderByCalled)}}class Sl extends vl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xa(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class kl extends vl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xa(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class El extends vl{constructor(e){super(),this._path=e}_apply(e){Za(e,"orderByChild");const t=new Rr(this._path);if(Ur(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Ei(t),r=Mi(e._queryParams,n);return el(r),new Xa(e._repo,e._path,r,!0)}}class Tl extends vl{_apply(e){Za(e,"orderByKey");const t=Mi(e._queryParams,ti);return el(t),new Xa(e._repo,e._path,t,!0)}}class Il extends vl{_apply(e){Za(e,"orderByPriority");const t=Mi(e._queryParams,pi);return el(t),new Xa(e._repo,e._path,t,!0)}}class Pl extends vl{_apply(e){Za(e,"orderByValue");const t=Mi(e._queryParams,Ti);return el(t),new Xa(e._repo,e._path,t,!0)}}class Nl extends vl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ra("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bl(this._value,this._key)._apply(new xl(this._value,this._key)._apply(e))}}function Rl(e){let t=st(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){Ce(!Zo,"__referenceConstructor has already been defined"),Zo=e}(nl),function(e){Ce(!es,"__referenceConstructor has already been defined"),es=e}(nl);const Ol="FIREBASE_DATABASE_EMULATOR_HOST",Dl={};let Ll=!1;function Al(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zn("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Ha(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Ol]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=Ha(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new sr(sr.OWNER):new or(e.name,e.options,t);da("Invalid Firebase Database URL",l),Ur(l.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Dl[t.name];i||(i={},Dl[t.name]=i);let o=i[e.toURLString()];o&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ba(e,Ll,n,r),i[e.toURLString()]=o,o}(c,e,u,new ir(e.name,n));return new jl(d,e)}class jl{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wa(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nl(this._repo,Or())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Dl[t];n&&n[e.key]===e||qn("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Oa(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&qn("Cannot call "+e+" on a deleted database.")}}function Fl(){Sr.IS_TRANSPORT_INITIALIZED&&Wn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ml(){Fl(),br.forceDisallow()}function zl(){Fl(),Cr.forceDisallow(),br.forceAllow()}function Ul(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=st(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new sr(sr.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new sr(t)}!function(e,t,n,r){e.repoInfo_=new hr("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function Bl(e){var t;(e=st(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(_a)}function ql(e,t){Mn(e,t)}const Wl={".sv":"timestamp"};class Hl{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Vl(e,t,n){var r;if(e=st(e),ua("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new Ae,s=fl(e,(()=>{}));return function(e,t,n,r,i,o){Da(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:Dn(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Aa(e,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ia("transaction failed: Data returned ",l,s.path),s.status=0;const n=Ws(e.transactionQueueTree_,t),r=Hs(n)||[];let i;r.push(s),Vs(n,r),"object"===typeof l&&null!==l&&Ve(l,".priority")?(i=Qe(l,".priority"),Ce(na(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(ws(e.serverSyncTree_,t)||xi.EMPTY_NODE).getPriority().val();const o=Ca(e),c=ki(l,i),u=Us(c,a,o);s.currentOutputSnapshotRaw=c,s.currentOutputSnapshotResolved=u,s.currentWriteId=Ta(e);const d=ps(e.serverSyncTree_,t,u,s.currentWriteId,s.applyLocally);ga(e.eventQueue_,t,d),ja(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new rl(r,new nl(e._repo,e._path),pi),o.resolve(new Hl(n,i)))}),s,i),o.promise}Gr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Gr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){En(Jt),Vt(new at("database",((e,t)=>{let{instanceIdentifier:n}=t;return Al(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),nn(Cn,Sn,e),nn(Cn,Sn,"esm2017")}();const Ql=new yt("@firebase/database-compat"),$l=function(e){const t="FIREBASE WARNING: "+e;Ql.warn(t)};class Kl{constructor(e){this._delegate=e}cancel(e){tt("OnDisconnect.cancel",0,1,arguments.length),rt("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){tt("OnDisconnect.remove",0,1,arguments.length),rt("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){tt("OnDisconnect.set",1,2,arguments.length),rt("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){tt("OnDisconnect.setWithPriority",2,3,arguments.length),rt("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(tt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,$l("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rt("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class Yl{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return tt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Gl{constructor(e,t){this._database=e,this._delegate=t}val(){return tt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return tt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return tt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return tt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return tt("DataSnapshot.child",0,1,arguments.length),e=String(e),la("DataSnapshot.child","path",e,!1),new Gl(this._database,this._delegate.child(e))}hasChild(e){return tt("DataSnapshot.hasChild",1,1,arguments.length),la("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return tt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return tt("DataSnapshot.forEach",1,1,arguments.length),rt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new Gl(this._database,t))))}hasChildren(){return tt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return tt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return tt("DataSnapshot.ref",0,0,arguments.length),new Xl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Jl{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;tt("Query.on",2,4,arguments.length),rt("Query.on","callback",t,!1);const o=Jl.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new Gl(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return fl(this._delegate,s,a),t;case"child_added":return pl(this._delegate,s,a),t;case"child_removed":return yl(this._delegate,s,a),t;case"child_changed":return gl(this._delegate,s,a),t;case"child_moved":return ml(this._delegate,s,a),t;default:throw new Error(nt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(tt("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(nt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),rt("Query.off","callback",t,!0),it("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,_l(this._delegate,e,r)}else _l(this._delegate,e)}get(){return cl(this._delegate).then((e=>new Gl(this.database,e)))}once(e,t,n,r){tt("Query.once",1,4,arguments.length),rt("Query.once","callback",t,!0);const i=Jl.getCancelAndContextArgs_("Query.once",n,r),o=new Ae,s=(e,n)=>{const r=new Gl(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":fl(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":pl(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":yl(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":gl(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":ml(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(nt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return tt("Query.limitToFirst",1,1,arguments.length),new Jl(this.database,Rl(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Sl(e)}(e)))}limitToLast(e){return tt("Query.limitToLast",1,1,arguments.length),new Jl(this.database,Rl(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new kl(e)}(e)))}orderByChild(e){return tt("Query.orderByChild",1,1,arguments.length),new Jl(this.database,Rl(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return la("orderByChild","path",e,!1),new El(e)}(e)))}orderByKey(){return tt("Query.orderByKey",0,0,arguments.length),new Jl(this.database,Rl(this._delegate,new Tl))}orderByPriority(){return tt("Query.orderByPriority",0,0,arguments.length),new Jl(this.database,Rl(this._delegate,new Il))}orderByValue(){return tt("Query.orderByValue",0,0,arguments.length),new Jl(this.database,Rl(this._delegate,new Pl))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tt("Query.startAt",0,2,arguments.length),new Jl(this.database,Rl(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return aa("startAt","key",t,!0),new xl(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tt("Query.startAfter",0,2,arguments.length),new Jl(this.database,Rl(this._delegate,function(e,t){return aa("startAfter","key",t,!0),new Cl(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tt("Query.endAt",0,2,arguments.length),new Jl(this.database,Rl(this._delegate,function(e,t){return aa("endAt","key",t,!0),new bl(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tt("Query.endBefore",0,2,arguments.length),new Jl(this.database,Rl(this._delegate,function(e,t){return aa("endBefore","key",t,!0),new wl(e,t)}(e,t)))}equalTo(e,t){return tt("Query.equalTo",1,2,arguments.length),new Jl(this.database,Rl(this._delegate,function(e,t){return aa("equalTo","key",t,!0),new Nl(e,t)}(e,t)))}toString(){return tt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return tt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(tt("Query.isEqual",1,1,arguments.length),!(e instanceof Jl)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,rt(e,"cancel",r.cancel,!0),r.context=n,it(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(nt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Xl(this.database,new nl(this._delegate._repo,this._delegate._path))}}class Xl extends Jl{constructor(e,t){super(e,new Xa(t._repo,t._path,new Ai,!1)),this.database=e,this._delegate=t}getKey(){return tt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return tt("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new Xl(this.database,sl(this._delegate,e))}getParent(){tt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Xl(this.database,e):null}getRoot(){return tt("Reference.root",0,0,arguments.length),new Xl(this.database,this._delegate.root)}set(e,t){tt("Reference.set",1,2,arguments.length),rt("Reference.set","onComplete",t,!0);const n=al(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(tt("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,$l("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ua("Reference.update",this._delegate._path),rt("Reference.update","onComplete",t,!0);const n=ll(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){tt("Reference.setWithPriority",2,3,arguments.length),rt("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(ua("setWithPriority",e._path),ra("setWithPriority",t,e._path,!1),sa("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Ae;return Ia(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){tt("Reference.remove",0,1,arguments.length),rt("Reference.remove","onComplete",e,!0);const t=function(e){return ua("remove",e._path),al(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){tt("Reference.transaction",1,3,arguments.length),rt("Reference.transaction","transactionUpdate",e,!1),rt("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(nt(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Vl(this._delegate,e,{applyLocally:n}).then((e=>new Yl(e.committed,new Gl(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){tt("Reference.setPriority",1,2,arguments.length),rt("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=st(e),ua("setPriority",e._path),sa("setPriority",t,!1);const n=new Ae;return Ia(e._repo,zr(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){tt("Reference.push",0,2,arguments.length),rt("Reference.push","onComplete",t,!0);const n=function(e,t){e=st(e),ua("push",e._path),ra("push",t,e._path,!0);const n=xa(e._repo),r=$a(n),i=sl(e,r),o=sl(e,r);let s;return s=null!=t?al(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),r=n.then((e=>new Xl(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new Xl(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return ua("Reference.onDisconnect",this._delegate._path),new Kl(new Ja(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Zl{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ml,forceLongPolling:zl}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ul(this._delegate,e,t,n)}ref(e){if(tt("database.ref",0,1,arguments.length),e instanceof Xl){const t=ol(this._delegate,e.toString());return new Xl(this,t)}{const t=il(this._delegate,e);return new Xl(this,t)}}refFromURL(e){tt("database.refFromURL",1,1,arguments.length);const t=ol(this._delegate,e);return new Xl(this,t)}goOffline(){return tt("database.goOffline",0,0,arguments.length),(e=st(e=this._delegate))._checkNotDeleted("goOffline"),void Oa(e._repo);var e}goOnline(){return tt("database.goOnline",0,0,arguments.length),Bl(this._delegate)}}Zl.ServerValue={TIMESTAMP:Wl,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var ec=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,namespace:o,nodeAdmin:s=!1}=e;En(r);const a=new ct("auth-internal",new ut("database-standalone"));return a.setComponent(new at("auth-internal",(()=>i),"PRIVATE")),{instance:new Zl(Al(t,a,void 0,n,s),t),namespace:o}}});const tc=Zl.ServerValue;var nc;function rc(e,t){return function(){return e.apply(t,arguments)}}(nc=xn).INTERNAL.registerComponent(new at("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Zl(i,r)}),"PUBLIC").setServiceProps({Reference:Xl,Query:Jl,Database:Zl,DataSnapshot:Gl,enableLogging:ql,INTERNAL:ec,ServerValue:tc}).setMultipleInstances(!0)),nc.registerVersion("@firebase/database-compat","0.3.4");const{toString:ic}=Object.prototype,{getPrototypeOf:oc}=Object,sc=(ac=Object.create(null),e=>{const t=ic.call(e);return ac[t]||(ac[t]=t.slice(8,-1).toLowerCase())});var ac;const lc=e=>(e=e.toLowerCase(),t=>sc(t)===e),cc=e=>t=>typeof t===e,{isArray:uc}=Array,dc=cc("undefined");const hc=lc("ArrayBuffer");const fc=cc("string"),pc=cc("function"),gc=cc("number"),mc=e=>null!==e&&"object"===typeof e,yc=e=>{if("object"!==sc(e))return!1;const t=oc(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_c=lc("Date"),vc=lc("File"),bc=lc("Blob"),wc=lc("FileList"),xc=lc("URLSearchParams");function Cc(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),uc(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function Sc(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ec=e=>!dc(e)&&e!==kc;const Tc=(Ic="undefined"!==typeof Uint8Array&&oc(Uint8Array),e=>Ic&&e instanceof Ic);var Ic;const Pc=lc("HTMLFormElement"),Nc=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Rc=lc("RegExp"),Oc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Cc(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Dc="abcdefghijklmnopqrstuvwxyz",Lc="0123456789",Ac={DIGIT:Lc,ALPHA:Dc,ALPHA_DIGIT:Dc+Dc.toUpperCase()+Lc};const jc=lc("AsyncFunction"),Fc={isArray:uc,isArrayBuffer:hc,isBuffer:function(e){return null!==e&&!dc(e)&&null!==e.constructor&&!dc(e.constructor)&&pc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||pc(e.append)&&("formdata"===(t=sc(e))||"object"===t&&pc(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&hc(e.buffer),t},isString:fc,isNumber:gc,isBoolean:e=>!0===e||!1===e,isObject:mc,isPlainObject:yc,isUndefined:dc,isDate:_c,isFile:vc,isBlob:bc,isRegExp:Rc,isFunction:pc,isStream:e=>mc(e)&&pc(e.pipe),isURLSearchParams:xc,isTypedArray:Tc,isFileList:wc,forEach:Cc,merge:function e(){const{caseless:t}=Ec(this)&&this||{},n={},r=(r,i)=>{const o=t&&Sc(n,i)||i;yc(n[o])&&yc(r)?n[o]=e(n[o],r):yc(r)?n[o]=e({},r):uc(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Cc(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Cc(t,((t,r)=>{n&&pc(t)?e[r]=rc(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&oc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:sc,kindOfTest:lc,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(uc(e))return e;let t=e.length;if(!gc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Pc,hasOwnProperty:Nc,hasOwnProp:Nc,reduceDescriptors:Oc,freezeMethods:e=>{Oc(e,((t,n)=>{if(pc(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];pc(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return uc(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Sc,global:kc,isContextDefined:Ec,ALPHABET:Ac,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&pc(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(mc(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=uc(e)?[]:{};return Cc(e,((e,t)=>{const o=n(e,r+1);!dc(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:jc,isThenable:e=>e&&(mc(e)||pc(e))&&pc(e.then)&&pc(e.catch)};function Mc(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Fc.inherits(Mc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fc.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zc=Mc.prototype,Uc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Uc[e]={value:e}})),Object.defineProperties(Mc,Uc),Object.defineProperty(zc,"isAxiosError",{value:!0}),Mc.from=(e,t,n,r,i,o)=>{const s=Object.create(zc);return Fc.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Mc.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Bc=Mc;function qc(e){return Fc.isPlainObject(e)||Fc.isArray(e)}function Wc(e){return Fc.endsWith(e,"[]")?e.slice(0,-2):e}function Hc(e,t,n){return e?e.concat(t).map((function(e,t){return e=Wc(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Vc=Fc.toFlatObject(Fc,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Qc=function(e,t,n){if(!Fc.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Fc.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Fc.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Fc.isSpecCompliantForm(t);if(!Fc.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Fc.isDate(e))return e.toISOString();if(!a&&Fc.isBlob(e))throw new Bc("Blob is not supported. Use a Buffer instead.");return Fc.isArrayBuffer(e)||Fc.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Fc.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Fc.isArray(e)&&function(e){return Fc.isArray(e)&&!e.some(qc)}(e)||(Fc.isFileList(e)||Fc.endsWith(n,"[]"))&&(a=Fc.toArray(e)))return n=Wc(n),a.forEach((function(e,r){!Fc.isUndefined(e)&&null!==e&&t.append(!0===s?Hc([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!qc(e)||(t.append(Hc(i,n,o),l(e)),!1)}const u=[],d=Object.assign(Vc,{defaultVisitor:c,convertValue:l,isVisitable:qc});if(!Fc.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Fc.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Fc.forEach(n,(function(n,o){!0===(!(Fc.isUndefined(n)||null===n)&&i.call(t,n,Fc.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function $c(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Kc(e,t){this._pairs=[],e&&Qc(e,this,t)}const Yc=Kc.prototype;Yc.append=function(e,t){this._pairs.push([e,t])},Yc.toString=function(e){const t=e?function(t){return e.call(this,t,$c)}:$c;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Gc=Kc;function Jc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xc(e,t,n){if(!t)return e;const r=n&&n.encode||Jc,i=n&&n.serialize;let o;if(o=i?i(t,n):Fc.isURLSearchParams(t)?t.toString():new Gc(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Zc=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fc.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},eu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tu={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Gc,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},nu="undefined"!==typeof window&&"undefined"!==typeof document,ru=(iu="undefined"!==typeof navigator&&navigator.product,nu&&["ReactNative","NativeScript","NS"].indexOf(iu)<0);var iu;const ou="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,su={...t,...tu};const au=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&Fc.isArray(r)?r.length:o,a)return Fc.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&Fc.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&Fc.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(Fc.isFormData(e)&&Fc.isFunction(e.entries)){const n={};return Fc.forEachEntry(e,((e,r)=>{t(function(e){return Fc.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const lu={transitional:eu,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Fc.isObject(e);i&&Fc.isHTMLForm(e)&&(e=new FormData(e));if(Fc.isFormData(e))return r?JSON.stringify(au(e)):e;if(Fc.isArrayBuffer(e)||Fc.isBuffer(e)||Fc.isStream(e)||Fc.isFile(e)||Fc.isBlob(e))return e;if(Fc.isArrayBufferView(e))return e.buffer;if(Fc.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qc(e,new su.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return su.isNode&&Fc.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Fc.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Qc(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Fc.isString(e))try{return(t||JSON.parse)(e),Fc.trim(e)}catch(ad){if("SyntaxError"!==ad.name)throw ad}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||lu.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Fc.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(ad){if(n){if("SyntaxError"===ad.name)throw Bc.from(ad,Bc.ERR_BAD_RESPONSE,this,null,this.response);throw ad}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:su.classes.FormData,Blob:su.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fc.forEach(["delete","get","head","post","put","patch"],(e=>{lu.headers[e]={}}));const cu=lu,uu=Fc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),du=Symbol("internals");function hu(e){return e&&String(e).trim().toLowerCase()}function fu(e){return!1===e||null==e?e:Fc.isArray(e)?e.map(fu):String(e)}function pu(e,t,n,r,i){return Fc.isFunction(r)?r.call(this,t,n):(i&&(t=n),Fc.isString(t)?Fc.isString(r)?-1!==t.indexOf(r):Fc.isRegExp(r)?r.test(t):void 0:void 0)}class gu{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=hu(t);if(!i)throw new Error("header name must be a non-empty string");const o=Fc.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=fu(e))}const o=(e,t)=>Fc.forEach(e,((e,n)=>i(e,n,t)));return Fc.isPlainObject(e)||e instanceof this.constructor?o(e,t):Fc.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&uu[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=hu(e)){const n=Fc.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Fc.isFunction(t))return t.call(this,e,n);if(Fc.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=hu(e)){const n=Fc.findKey(this,e);return!(!n||void 0===this[n]||t&&!pu(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=hu(e)){const i=Fc.findKey(n,e);!i||t&&!pu(0,n[i],i,t)||(delete n[i],r=!0)}}return Fc.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!pu(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Fc.forEach(this,((r,i)=>{const o=Fc.findKey(n,i);if(o)return t[o]=fu(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=fu(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Fc.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Fc.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[du]=this[du]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=hu(e);t[r]||(!function(e,t){const n=Fc.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Fc.isArray(e)?e.forEach(r):r(e),this}}gu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Fc.reduceDescriptors(gu.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Fc.freezeMethods(gu);const mu=gu;function yu(e,t){const n=this||cu,r=t||n,i=mu.from(r.headers);let o=r.data;return Fc.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function _u(e){return!(!e||!e.__CANCEL__)}function vu(e,t,n){Bc.call(this,null==e?"canceled":e,Bc.ERR_CANCELED,t,n),this.name="CanceledError"}Fc.inherits(vu,Bc,{__CANCEL__:!0});const bu=vu;const wu=su.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Fc.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Fc.isString(r)&&s.push("path="+r),Fc.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xu(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Cu=su.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Fc.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const Su=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function ku(e,t){let n=0;const r=Su(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Eu="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=mu.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(Fc.isFormData(r))if(su.hasStandardBrowserEnv||su.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=xu(e.baseURL,e.url);function h(){if(!u)return;const r=mu.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Bc("Request failed with status code "+n.status,[Bc.ERR_BAD_REQUEST,Bc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Xc(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new Bc("Request aborted",Bc.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Bc("Network Error",Bc.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||eu;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Bc(t,r.clarifyTimeoutError?Bc.ETIMEDOUT:Bc.ECONNABORTED,e,u)),u=null},su.hasStandardBrowserEnv&&(l&&Fc.isFunction(l)&&(l=l(e)),l||!1!==l&&Cu(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&wu.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&Fc.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Fc.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",ku(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ku(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new bu(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===su.protocols.indexOf(f)?n(new Bc("Unsupported protocol "+f+":",Bc.ERR_BAD_REQUEST,e)):u.send(r||null)}))},Tu={http:null,xhr:Eu};Fc.forEach(Tu,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ad){}Object.defineProperty(e,"adapterName",{value:t})}}));const Iu=e=>"- ".concat(e),Pu=e=>Fc.isFunction(e)||null===e||!1===e,Nu=e=>{e=Fc.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Pu(n)&&(r=Tu[(t=String(n)).toLowerCase()],void 0===r))throw new Bc("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Iu).join("\n"):" "+Iu(e[0]):"as no adapter specified";throw new Bc("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Ru(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bu(null,e)}function Ou(e){Ru(e),e.headers=mu.from(e.headers),e.data=yu.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Nu(e.adapter||cu.adapter)(e).then((function(t){return Ru(e),t.data=yu.call(e,e.transformResponse,t),t.headers=mu.from(t.headers),t}),(function(t){return _u(t)||(Ru(e),t&&t.response&&(t.response.data=yu.call(e,e.transformResponse,t.response),t.response.headers=mu.from(t.response.headers))),Promise.reject(t)}))}const Du=e=>e instanceof mu?e.toJSON():e;function Lu(e,t){t=t||{};const n={};function r(e,t,n){return Fc.isPlainObject(e)&&Fc.isPlainObject(t)?Fc.merge.call({caseless:n},e,t):Fc.isPlainObject(t)?Fc.merge({},t):Fc.isArray(t)?t.slice():t}function i(e,t,n){return Fc.isUndefined(t)?Fc.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Fc.isUndefined(t))return r(void 0,t)}function s(e,t){return Fc.isUndefined(t)?Fc.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Du(e),Du(t),!0)};return Fc.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);Fc.isUndefined(s)&&o!==a||(n[r]=s)})),n}const Au="1.6.7",ju={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ju[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Fu={};ju.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new Bc(r(i," has been removed"+(t?" in "+t:"")),Bc.ERR_DEPRECATED);return t&&!Fu[i]&&(Fu[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const Mu={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Bc("options must be an object",Bc.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new Bc("option "+o+" must be "+n,Bc.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Bc("Unknown option "+o,Bc.ERR_BAD_OPTION)}},validators:ju},zu=Mu.validators;class Uu{constructor(e){this.defaults=e,this.interceptors={request:new Zc,response:new Zc}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Lu(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Mu.assertOptions(n,{silentJSONParsing:zu.transitional(zu.boolean),forcedJSONParsing:zu.transitional(zu.boolean),clarifyTimeoutError:zu.transitional(zu.boolean)},!1),null!=r&&(Fc.isFunction(r)?t.paramsSerializer={serialize:r}:Mu.assertOptions(r,{encode:zu.function,serialize:zu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Fc.merge(i.common,i[t.method]);i&&Fc.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=mu.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Ou.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(Bn){t.call(this,Bn);break}}try{c=Ou.call(this,h)}catch(Bn){return Promise.reject(Bn)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Xc(xu((e=Lu(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Fc.forEach(["delete","get","head","options"],(function(e){Uu.prototype[e]=function(t,n){return this.request(Lu(n||{},{method:e,url:t,data:(n||{}).data}))}})),Fc.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Lu(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Uu.prototype[e]=t(),Uu.prototype[e+"Form"]=t(!0)}));const Bu=Uu;class qu{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new bu(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new qu((function(t){e=t})),cancel:e}}}const Wu=qu;const Hu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hu).forEach((e=>{let[t,n]=e;Hu[n]=t}));const Vu=Hu;const Qu=function e(t){const n=new Bu(t),r=rc(Bu.prototype.request,n);return Fc.extend(r,Bu.prototype,n,{allOwnKeys:!0}),Fc.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Lu(t,n))},r}(cu);Qu.Axios=Bu,Qu.CanceledError=bu,Qu.CancelToken=Wu,Qu.isCancel=_u,Qu.VERSION=Au,Qu.toFormData=Qc,Qu.AxiosError=Bc,Qu.Cancel=Qu.CanceledError,Qu.all=function(e){return Promise.all(e)},Qu.spread=function(e){return function(t){return e.apply(null,t)}},Qu.isAxiosError=function(e){return Fc.isObject(e)&&!0===e.isAxiosError},Qu.mergeConfig=Lu,Qu.AxiosHeaders=mu,Qu.formToJSON=e=>au(Fc.isHTMLForm(e)?new FormData(e):e),Qu.getAdapter=Nu,Qu.HttpStatusCode=Vu,Qu.default=Qu;const $u=Qu,Ku=e=>{let{roomId:t,loggedInUser:n,toggleChatRoom:r}=e;const[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=xn.database().ref("chatRooms/".concat(t,"/messages"));return e.on("value",(e=>{const t=e.val(),n=t?Object.values(t):[];s(n)})),()=>{e.off()}}),[t]);return(0,i.useEffect)((()=>{const e=document.querySelector(".chatbody");e&&(e.scrollTop=e.scrollHeight)}),[o]),(0,he.jsxs)("div",{style:{width:"400px",height:"590px",margin:"auto",border:"1px solid #ccc",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:[(0,he.jsxs)("div",{style:{height:"40px",fontSize:"25px",backgroundColor:"#ff9595",color:"white",padding:"10px",textAlign:"left"},children:["Chat_room: ",t,(0,he.jsx)("button",{style:{float:"right",border:"none",padding:"8px",backgroundColor:"#eee",borderRadius:"4px",cursor:"pointer"},onClick:r,children:"\ub2eb\uae30"})]}),(0,he.jsx)("style",{children:" .chatbody::-webkit-scrollbar{display: none;} "}),(0,he.jsx)("div",{style:{height:"500px",padding:"10px",background:"rgba(256,256,256,0.8)"},children:(0,he.jsx)("ul",{className:"chatbody",style:{padding:0,margin:0,listStyle:"none",maxHeight:"100%",overflowY:"auto"},children:o.map(((e,t)=>(0,he.jsxs)("li",{style:{textAlign:e.sender===n?"right":"left"},children:[(0,he.jsxs)("p",{style:{backgroundColor:e.sender===n?"#ff9595":"#eee",padding:"8px",borderRadius:"8px",display:"inline-block",margin:"5px 0"},children:[e.sender,": ",e.content]}),(0,he.jsx)("div",{children:e.timestamp})]},t)))})}),(0,he.jsxs)("div",{style:{height:"50px",padding:"10px",borderTop:"1px solid #ccc",background:"#ccc"},children:[(0,he.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"\uba54\uc2dc\uc9c0 \uc785\ub825",style:{fontSize:"15px",width:"70%",padding:"8px",marginRight:"20px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,he.jsx)("button",{onClick:async()=>{if(""!==a.trim())try{const e=xn.database().ref("chatRooms/".concat(t,"/messages")),r=new Date,i=r.getHours(),o=r.getMinutes(),s=i>=12?"pm":"am",c="".concat(r.getFullYear(),"-").concat(("0"+(r.getMonth()+1)).slice(-2),"-").concat(("0"+r.getDate()).slice(-2)," ").concat(i%12,":").concat(o<10?"0"+o:o).concat(s),u={sender:n,content:a,timestamp:c};await e.push(u),l("")}catch(Bn){console.error("Error sending message:",Bn)}},style:{padding:"8px",backgroundColor:"#ff9595",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\uc804\uc1a1"})]})]})},Yu={apiKey:"AIzaSyB18vZPqKnceElo5oIftGaU45xRaoho8Uw",authDomain:"sanpa-c6a82.firebaseapp.com",databaseURL:"https://sanpa-c6a82-default-rtdb.firebaseio.com",projectId:"sanpa-c6a82",storageBucket:"sanpa-c6a82.appspot.com",messagingSenderId:"495243475176",appId:"1:495243475176:web:8eb86c02b740e0b50b315d",measurementId:"G-NV822LHWG3"};xn.apps.length||xn.initializeApp(Yu);const Gu=e=>{let{loggedInUserProps:t}=e;const[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)({latitude:null,longitude:null}),[a,l]=(0,i.useState)({latitude:null,longitude:null}),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)([]),[g,m]=(0,i.useState)([]),[y,_]=(0,i.useState)([]),[v,b]=(0,i.useState)(null),w=(0,i.useRef)({}),[x,C]=(0,i.useState)(!1),[S,k]=(0,i.useState)(!1),[E,T]=(0,i.useState)(""),[I,P]=(0,i.useState)(""),[N,R]=(0,i.useState)(""),[O,D]=(0,i.useState)(""),[L,A]=(0,i.useState)(!1),[j,F]=(0,i.useState)(""),[M,z]=(0,i.useState)(""),[U,B]=(0,i.useState)(0),[q,W]=(0,i.useState)(null);(0,i.useEffect)((()=>{r(t)}),[t]),(0,i.useEffect)((()=>{n?(async()=>{const e={mother_id:n},t=await $u.post("/api/data/connectionListUnion",e);console.log("\ub4e4\uc5b4\uac14\ub2e4 1\ubc88"),u(t.data);const r={helper_id:n},i=await $u.post("/api/data/getHelper",r);console.log("\ub4e4\uc5b4\uac14\ub2e4 3\ubc88"),h(i.data)})():console.error("\uc544\uc9c1 loggedInUser \ub370\uc774\ud130\uac00 \ub4e4\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}),[n,v]),(0,i.useEffect)((()=>{const e=navigator.geolocation.watchPosition((e=>{const{latitude:t,longitude:n}=e.coords;l({latitude:t,longitude:n}),B(t)}),(e=>{alert("\uc704\uce58\uad8c\ud55c\uc774 \ud5c8\uc6a9\ub418\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc0ac\uc6a9\uc790\uc758 \uc2e4\uc2dc\uac04 \uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ube0c\ub77c\uc6b0\uc800\uc758 \uc704\uce58 \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uace0 \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694.");const t=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(37.5642135,127.0016985),zoom:14});b(t),console.error("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc5b4 \uc9c0\ub3c4 \ucd08\uae30 \uc704\uce58\ub97c '\uc11c\uc6b8\uc2dc\uccad'\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4. \uc704\uce58\uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uc138\uc694.",e)}));return()=>{navigator.geolocation.clearWatch(e)}}),[n]),(0,i.useEffect)((()=>{if(n){const e=xn.database().ref("userLocations/".concat(n));n&&(console.log("1"+e.name),e.once("value",(t=>{console.log("2");const n=t.val();if(W(n),!n){console.log("3");const t=(()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e})(),n=0,r=0,i="";e.set({color:t,latitude:n,longitude:r,nicknrel:i})}})))}}),[n,d]),(0,i.useEffect)((()=>{const e=xn.database().ref("userLocations/".concat(n,"/nicknrel"));e.on("value",(t=>{const n=t.val();return _(n),()=>{e.off()}}))}),[]),(0,i.useEffect)((()=>{if(n&&q){const e=xn.database().ref("userLocations/".concat(n));return e.on("value",(e=>{const{latitude:t,longitude:n,color:r,tel:i,name:o,nicknrel:a}=e.val();s({latitude:t,longitude:n}||{latitude:null,longitude:null});m({latitude:t,longitude:n,color:r,tel:i,name:o,nicknrel:a}||{latitude:null,longitude:null,color:null,tel:null,name:null})})),()=>{e.off()}}}),[n,q]),(0,i.useEffect)((()=>{if(n){const e=xn.database().ref("userLocations");return e.on("value",(e=>{const t=e.val();p(Object.entries(t||{}).map((e=>{let[t,n]=e;return{user:t,...n}})))})),()=>{e.off()}}}),[n]),(0,i.useEffect)((()=>{if(0!==U)if(null!==a.latitude&&null!==a.longitude){if(console.log("\ucc98\uc74c\uc5d0 \uc9c0\ub3c4\ub9cc\ub4e4\uc5b4?"),!v){console.log(a.latitude+","+a.longitude+"\uc774\uac8c\uc88c\ud45c\uc77c\uc138");const e=a.latitude,t=a.longitude,n=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(e,t),zoom:14});b(n)}}else if(!v){alert("\uc704\uce58\uad8c\ud55c\uc774 \ud5c8\uc6a9\ub418\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc0ac\uc6a9\uc790\uc758 \uc2e4\uc2dc\uac04 \uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ube0c\ub77c\uc6b0\uc800\uc758 \uc704\uce58 \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uace0 \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694."),console.log("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc5b4 \uc9c0\ub3c4 \ucd08\uae30 \uc704\uce58\ub97c '\uc11c\uc6b8\uc2dc\uccad'\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4. \uc704\uce58\uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uc138\uc694.");const e=37.5642135,t=127.0016985,n=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(e,t),zoom:14});b(n)}}),[U]),(0,i.useEffect)((()=>{if(null!==d){const e=xn.database().ref("userLocations/".concat(n)),t=xn.database().ref("userLocations/".concat(n,"/nicknrel"));return e.once("value",(n=>{const r=n.val();if(r){console.log("\uc5c5\ub370\uc774\ud2b8\uac00 \ub418\ub098\uc694?");const n=d.helper_name,i=d.helper_tel;e.update({name:n,tel:i});const o=a.latitude,s=a.longitude;e.update({latitude:o,longitude:s}),console.log("111"),null!==r.nicknrel&&c&&c.forEach((e=>{console.log("222");try{var n,r;const i=null!==(n=e.helper_id)&&void 0!==n?n:null,o=null!==(r=e.nicknameOfHelper)&&void 0!==r?r:"\ubbf8\uc124\uc815",s=null!==e.relation?e.relation:"\ubbf8\uc124\uc815",a=0==e.locationallowhtm?0:1==e.locationallowhtm?1:"\ubbf8\uc124\uc815";t.child(i).update({nickname:o,relation:s,locationallowhtm:a})}catch(Bn){console.error("\ub4f1\ub85d\ud55c \ud5ec\ud37c\uac00 \uc5c6\uc5b4\uc11c \ud30c\uc774\uc5b4\ubca0\uc774\uc2a4\uc5d0 \uc5c5\ub370\uc774\ud2b8\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.:",Bn)}}))}else console.error("\ud30c\uc774\uc5b4\ubca0\uc774\uc2a4\uc5d0 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud68c\uc6d0\uc785\ub2c8\ub2e4. \uc624\ub958\ub97c \uc218\uc815\ud574\uc8fc\uc138\uc694.:")})),()=>{e.off()}}}),[n,d,c,a]),(0,i.useEffect)((()=>{if(0!==f.length&&n&&0!==c.length&&0!==g){const e=f.filter((e=>e.user===n||!!c.some((t=>t.helper_id===e.user))));Object.values(w.current).forEach((e=>{e.setMap(null)})),console.log("\ub9c8\uc9c0\ub9c9\uc624\ub958\uc7a1\uae30 111"),0!==g.length&&(console.log("\ub9c8\uc9c0\ub9c9\uc624\ub958\uc7a1\uae30 222"),e.forEach((e=>{if((e.user!==n&&1==g.nicknrel[e.user].locationallowhtm||e.user==n)&&e.latitude&&e.longitude&&n){console.log("\ub9c8\uc9c0\ub9c9\uc624\ub958\uc7a1\uae30 333");const t=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(e.latitude,e.longitude),map:v,title:e.user,icon:{content:"\n                            <div id=".concat(e.user,">\n                                ").concat(e.user!==n?'\n                                    <div style="margin-bottom: 4px; padding: 4px; width: 68px; height: 24px; font-weight: bold; \n                                    background: '.concat(1==g.nicknrel[e.user].gostop?"rgba(40,180,256,0.4);":2==g.nicknrel[e.user].gostop?"rgba(256,149,149,0.4); ":"rgba(200,200,200,0.4);",' \n                                    border-radius: 12px; position: relative; z-index: 262; right: 10px; top: -35px;">\n                                        \n                                        ').concat(1==g.nicknrel[e.user].gostop?"\uac00\ub294\uc911":2==g.nicknrel[e.user].gostop?"\ubabb\uac00\uc694":"","\n                                    </div>\n                                "):"",'\n                            <div style="position:relative; z-index: 261; right: 10px; top: -35px;">\n                            <svg width="33" height="42" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M33 16.5C33 25.6127 18.1875 42 16.5 42C14.8125 42 0 25.6127 0 16.5C0 7.3873 7.3873 0 16.5 0C25.6127 0 33 7.3873 33 16.5Z" fill="#333333"/>\n                                <circle cx="16.5" cy="16.5" r="9.5" fill="').concat(e.color,'" stroke="#ffffff" stroke-width="2"/>\n                             </svg>\n                             </div>\n                            </div>\n                            '),size:new window.naver.maps.Size(33,42),anchor:new window.naver.maps.Point(16.5,42)}});w.current[e.user]=t,window.naver.maps.Event.addListener(t,"click",(function(){k(!0),T(e.user===n?"\ub098":e.user),P(e.color),0!==g.nicknrel[e.user].length&&(R(e.nickname),D(e.relation),A(e.locationallowhtm)),F(e.name),z(e.tel),s({latitude:e.latitude,longitude:e.longitude})}))}})))}}),[n,f,c,a,g]);const H=()=>{C((e=>!e)),k(!1)};return(0,he.jsx)("div",{style:{width:"480px",height:"770px",position:"absolute",top:"160px"},children:(0,he.jsxs)("div",{id:"map",style:{width:"480px",height:"770px",position:"absolute",left:0,top:0},children:[(0,he.jsxs)("div",{style:{visibility:S?"visible":"hidden",width:"440px",height:"128px",background:"rgba(0,0,0,0.6)",borderRadius:"20px",position:"absolute",left:"20px",zIndex:261},children:[(0,he.jsx)("div",{style:{position:"absolute",left:"12px",top:"8px",width:"28px",height:"28px",borderRadius:"50%",background:I,border:"2px solid white"}}),(0,he.jsx)("div",{style:{position:"absolute",right:"12px",top:"8px",width:"32px",height:"32px",border:"1px solid white",color:"white",fontSize:"40px",zIndex:262},onClick:e=>{k(!1)},children:(0,he.jsx)("i",{style:{position:"absolute",top:"-13px",left:"-3px"},class:"bi bi-x"})}),(0,he.jsxs)("div",{style:{position:"absolute",left:"60px",top:"8px",fontSize:"20px",color:"white",textAlign:"left"},children:["\ub098"==E?"":"\uc544\uc774\ub514:"," ",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:E}),(0,he.jsx)("br",{}),"\uc774\ub984: ",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:j})," \ub2c9\ub124\uc784 : ",N," \uc704\uce58\uad8c\ud55c: ",L,"(\uc0b0\ubaa8\uc640\uad00\uacc4:",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:O}),")",(0,he.jsx)("br",{}),"\uc804\ud654\ubc88\ud638:",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:M})]}),(0,he.jsxs)("div",{style:{position:"absolute",bottom:"8px",left:"8px",width:"40px"},onClick:()=>{v&&o.latitude&&o.longitude&&v.setCenter(new window.naver.maps.LatLng(o.latitude,o.longitude))},children:[(0,he.jsxs)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,he.jsx)("circle",{cx:"16.5012",cy:"16.4997",r:"10.05",stroke:"white","stroke-width":"3"}),(0,he.jsx)("rect",{x:"14.8516",width:"3.3",height:"5.775",fill:"white"}),(0,he.jsx)("rect",{x:"14.8516",y:"27.2251",width:"3.3",height:"5.775",fill:"white"}),(0,he.jsx)("rect",{x:"5.77539",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 5.77539 14.8501)",fill:"white"}),(0,he.jsx)("rect",{x:"33",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 33 14.8501)",fill:"white"})]}),(0,he.jsx)("div",{style:{color:"white",fontSize:"10px"},children:"\uc704\uce58\ubcf4\uae30"})]})]}),(0,he.jsx)("div",{style:{position:"absolute",width:"40px",height:"40px",borderRadius:"50%",border:"4px solid #ff578b",boxShadow:"0 0 2px 2px lightgrey",left:"20px",bottom:"150px",zIndex:"254",background:"#fff",textAlign:"center",cursor:"pointer"},onClick:()=>{v&&a.latitude&&a.longitude&&v.setCenter(new window.naver.maps.LatLng(a.latitude,a.longitude)),k(!1)},children:(0,he.jsx)("div",{style:{marginTop:"4px"},children:(0,he.jsxs)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,he.jsx)("circle",{cx:"16.5012",cy:"16.4997",r:"10.05",stroke:"#FF578B","stroke-width":"3"}),(0,he.jsx)("rect",{x:"14.8516",width:"3.3",height:"5.775",fill:"#FF578B"}),(0,he.jsx)("rect",{x:"14.8516",y:"27.2251",width:"3.3",height:"5.775",fill:"#FF578B"}),(0,he.jsx)("rect",{x:"5.77539",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 5.77539 14.8501)",fill:"#FF578B"}),(0,he.jsx)("rect",{x:"33",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 33 14.8501)",fill:"#FF578B"})]})})}),(0,he.jsx)("div",{style:{position:"absolute",zIndex:"263",visibility:x?"visible":"hidden"},children:(0,he.jsx)(Ku,{roomId:n,loggedInUser:n,toggleChatRoom:H})}),(0,he.jsx)("div",{style:{position:"absolute",width:"56px",height:"56px",borderRadius:"50%",border:"4px solid #ff578b",boxShadow:"0 0 2px 2px lightgrey",right:"20px",bottom:"150px",zIndex:"254",background:"#fff"},children:(0,he.jsxs)("div",{id:"chatbtn",style:{marginTop:"11px"},onClick:H,children:[(0,he.jsx)("svg",{width:"44",height:"39",viewBox:"0 0 44 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,he.jsx)("path",{d:"M44 16.1743C44 20.8183 41.3378 25.0053 37.0741 27.9551C35.6173 28.963 34.2222 38.9841 33.8148 38.9841C33.8148 39.3988 29.0144 31.5645 27.2963 31.8767C25.5999 32.185 23.8259 32.3485 22 32.3485C9.84974 32.3485 0 25.107 0 16.1743C0 7.24146 9.84974 0 22 0C34.1503 0 44 7.24146 44 16.1743Z",fill:"#FF578B"})}),(0,he.jsx)("div",{style:{position:"absolute",zIndex:"254",fontSize:"16px",fontWeight:"bold",color:"white",top:"14px",left:"10px"},children:"Chat"})]})}),(0,he.jsxs)("div",{style:{position:"absolute",width:"440px",background:"rgba(256,256,256,0.8)",zIndex:"253",bottom:"8px",left:"20px",borderRadius:"20px",boxShadow:"0 0 2px 2px lightgrey"},children:[(0,he.jsx)("div",{style:{color:"#ff578b",fontSize:"16px",margin:"auto"},children:" \uc704\uae09\uc0c1\ud669 \uc2dc \ubaa8\ub4e0 \ud5ec\ud37c\uc758 \uc704\uce58\uac00 \uacf5\uac1c\ub429\ub2c8\ub2e4."}),(0,he.jsx)("style",{children:" .container::-webkit-scrollbar{display: none;} "}),(0,he.jsx)("div",{className:"container",style:{width:"420px",height:"110px",margin:"auto",textAlign:"left",overflowY:"auto"},children:f.filter((e=>e.user===n||!!c.some((t=>t.helper_id===e.user)))).map(((e,t)=>(0,he.jsxs)("div",{style:{width:"32%",height:"40px",display:"inline-block",padding:"2px"},onClick:t=>{return r=e.user,i=e.color,o=e.latitude,a=e.longitude,l=e.name,c=e.tel,u="".concat(g.nicknrel[e.user]?g.nicknrel[e.user].nickname:""),d="".concat(g.nicknrel[e.user]?g.nicknrel[e.user].relation:""),h="".concat(g.nicknrel[e.user]?g.nicknrel[e.user].locationallowhtm:""),T(r===n?"\ub098":r),k(!0),P(i),s({latitude:o,longitude:a}),F(l),z(c),""!==u&&R(u),""!==d&&D(d),void(""!==h&&A(h));var r,i,o,a,l,c,u,d,h},children:[(0,he.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"18px",background:e.color,display:"inline-block"}}),(0,he.jsxs)("div",{style:{width:"96px",height:"40px",display:"inline-block"},children:[(0,he.jsx)("div",{style:{width:"96px",height:"24px",fontSize:"20px"},children:e.user===n?"\ub098":e.user}),(0,he.jsx)("div",{style:{width:"96px",height:"16px",fontSize:"12px"},children:e.user!==n&&f.filter((e=>e.user===n)).map(((t,n)=>(0,he.jsxs)("div",{children:["\uc704\uce58\uacf5\uc720:",1==t.nicknrel[e.user].locationallowhtm?"on":0==t.nicknrel[e.user].locationallowhtm?"off":"null"]},n)))})]})]})))})]})]})})},Ju=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)("location"),[o,s]=(0,i.useState)("#999"),[a,l]=(0,i.useState)("#999"),[c,u]=(0,i.useState)("#999");(0,i.useEffect)((()=>{const e=sessionStorage.getItem("loginData");e?t(e):window.location.href="/"}),[]);return(0,i.useEffect)((()=>{switch(n){case"list":u("#999"),l("#999"),s("#ff578b");break;case"add":u("#999"),l("#ff578b"),s("#999");break;case"location":u("#ff578b"),l("#999"),s("#999")}}),[n]),(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(ge,{}),(0,he.jsx)(ye,{onPageChange:e=>{r(e)},btnColor1:o,btnColor2:a,btnColor3:c}),(0,he.jsxs)("div",{children:["\uc544\ub2c8: ",e]}),"list"===n&&(0,he.jsx)(_e,{}),"add"===n&&(0,he.jsx)(ve,{}),"location"===n&&(0,he.jsx)(Gu,{loggedInUserProps:e}),(0,he.jsx)(me,{color1:"#999",color2:"#ff578b",color3:"#999",color4:"#999"})]})},Xu=()=>(0,he.jsxs)("div",{style:{zIndex:251,position:"absolute",top:0,width:"480px",height:"100px",background:"white",boxShadow:"0 0 4px 4px #ccc",fontSize:0},children:[(0,he.jsx)("div",{style:{display:"flex",alignItems:"center",width:"50px",height:"50px",position:"absolute",top:"40px",left:"12px"},children:(0,he.jsx)("i",{className:"bi bi-list",style:{height:"64px",fontSize:"48px",color:"gray"}})}),(0,he.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"48px",cursor:"pointer"},onClick:()=>{window.location.href="/login_move"},children:(0,he.jsx)("img",{src:"/img/header_sanpaLogo.png",alt:"\ub85c\uace0"})}),(0,he.jsx)("div",{style:{position:"absolute",top:"30px",right:"20px",width:"60px",height:"60px",background:"black",borderRadius:"30px"}})]}),Zu=()=>(0,he.jsxs)("div",{style:{textAlign:"center",zIndex:251,position:"absolute",bottom:0,width:480,height:100,background:"white",boxShadow:"0 0 2px 2px #ccc",fontSize:0},children:[(0,he.jsxs)("div",{style:{width:80,height:90,display:"inline-block",margin:"0 14px",cursor:"pointer"},onClick:()=>window.location.href="/tip",children:[(0,he.jsx)("i",{className:"bi bi-clipboard2-check",style:{fontSize:50,color:"#999"}}),(0,he.jsx)("div",{style:{fontSize:16,fontWeight:"bold",color:"#999"},children:"TIP\u2661"})]}),(0,he.jsxs)("div",{style:{width:80,height:90,display:"inline-block",margin:"0 14px",cursor:"pointer"},onClick:()=>window.location.href="/premium",children:[(0,he.jsx)("i",{className:"bi bi-people",style:{fontSize:50,color:"#999"}}),(0,he.jsx)("div",{style:{fontSize:16,fontWeight:"bold",color:"#999"},children:"\ud504\ub9ac\ubbf8\uc5c4"})]}),(0,he.jsxs)("div",{style:{width:80,height:90,display:"inline-block",margin:"0 14px",cursor:"pointer"},onClick:()=>window.location.href="/sanmoz",children:[(0,he.jsx)("i",{className:"bi bi-pencil",style:{fontSize:50,color:"#ff578b"}}),(0,he.jsx)("div",{style:{fontSize:16,fontWeight:"bold",color:"#ff578b"},children:"\uc0b0\ubaa8\uc988"})]}),(0,he.jsxs)("div",{style:{width:80,height:90,display:"inline-block",margin:"0 14px",cursor:"pointer"},onClick:()=>window.location.href="/helper_myPage",children:[(0,he.jsx)("i",{className:"bi bi-person-circle",style:{fontSize:50,color:"#999"}}),(0,he.jsx)("div",{style:{fontSize:16,fontWeight:"bold",color:"#999"},children:"\ub9c8\uc774\ud398\uc774\uc9c0"})]})]}),ed=e=>{let{onPageChange:t,btnColor1:n,btnColor2:r,btnColor3:i}=e;return(0,he.jsx)("div",{style:{width:"480px",textAlign:"center",position:"absolute",top:"100px"},children:(0,he.jsxs)("div",{style:{width:"420px",height:"60px",background:"white",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"20px",margin:"0 auto",color:"#999",fontWeight:"bold"},children:[(0,he.jsx)("div",{onClick:()=>window.location.href="sanmoz",style:{color:n},children:"\uc0b0\ubaa8\uc988 List"}),(0,he.jsx)("span",{style:{margin:"0 10px"},children:"|"}),(0,he.jsx)("div",{onClick:()=>window.location.href="searchPage",style:{color:r},children:"\uc0b0\ubaa8\uc988 \ucd94\uac00"}),(0,he.jsx)("span",{style:{margin:"0 10px"},children:"|"}),(0,he.jsx)("div",{onClick:()=>t("location"),style:{color:i},children:"\uc0b0\ubaa8\uc988 \uc704\uce58"})]})})},td=()=>(0,he.jsxs)("div",{style:{width:"480px",height:"770px",position:"absolute",top:"160px"},children:[(0,he.jsx)("h2",{children:"\uc0b0\ubaa8\uc988 \ub9ac\uc2a4\ud2b8"}),(0,he.jsx)("p",{children:"\uc0b0\ubaa8\uc988 \ub9ac\uc2a4\ud2b8 \ucee8\ud150\uce20 \ub0b4\uc6a9..."})]}),nd=()=>(0,he.jsxs)("div",{style:{width:"480px",height:"770px",position:"absolute",top:"160px"},children:[(0,he.jsx)("h2",{children:"\uc0b0\ubaa8\uc988 \ucd94\uac00"}),(0,he.jsx)("p",{children:"\uc0b0\ubaa8\uc988 \ucd94\uac00 \ucee8\ud150\uce20 \ub0b4\uc6a9..."})]}),rd={apiKey:"AIzaSyB18vZPqKnceElo5oIftGaU45xRaoho8Uw",authDomain:"sanpa-c6a82.firebaseapp.com",databaseURL:"https://sanpa-c6a82-default-rtdb.firebaseio.com",projectId:"sanpa-c6a82",storageBucket:"sanpa-c6a82.appspot.com",messagingSenderId:"495243475176",appId:"1:495243475176:web:8eb86c02b740e0b50b315d",measurementId:"G-NV822LHWG3"};xn.apps.length||xn.initializeApp(rd);const id=e=>{let{loggedInUserProps:t}=e;const[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(0),[d,h]=(0,i.useState)({latitude:null,longitude:null}),[f,p]=(0,i.useState)({latitude:null,longitude:null}),[g,m]=(0,i.useState)([]),[y,_]=(0,i.useState)([]),[v,b]=(0,i.useState)(null),[w,x]=(0,i.useState)([]),[C,S]=(0,i.useState)([]),[k,E]=(0,i.useState)(null),T=(0,i.useRef)({}),[I,P]=(0,i.useState)(!1),[N,R]=(0,i.useState)(!1),[O,D]=(0,i.useState)(""),[L,A]=(0,i.useState)(""),[j,F]=(0,i.useState)(""),[M,z]=(0,i.useState)(!1),[U,B]=(0,i.useState)(""),[q,W]=(0,i.useState)(""),[H,V]=(0,i.useState)(0);(0,i.useEffect)((()=>{if(s(t),a)r(a);else{const e=sessionStorage.getItem("mother_id");r(e)}}),[t,a]),(0,i.useEffect)((()=>{a||(r(a),console.log("clickedMotherId\ub3c4 selectedMother\uacfc \ub3d9\uc77c\ud558\uac8c \ubcc0\uacbd"))}),[a]),(0,i.useEffect)((()=>{console.log(o+"\uc774\uac8c\uc5c6\ub204"),console.log(n+"\uc774\uac8c\uc5c6\ub204"+o);n?(async()=>{const e={mother_id:n},t=await $u.post("/api/data/connectionListUnion",e);console.log("\ub4e4\uc5b4\uac14\ub2e4 1\ubc88"),m(t.data)})():console.error("\uc544\uc9c1 clickedMotherId \ub370\uc774\ud130\uac00 \ub4e4\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),o?(async()=>{const e={helper_id:o},t=await $u.post("/api/data/connection_getMotherListNameUnion",e);console.log("\ub4e4\uc5b4\uac14\ub2e4 2\ubc88"),_(t.data);const n=await $u.post("/api/data/getHelper",e);console.log("\ub4e4\uc5b4\uac14\ub2e4 3\ubc88"),b(n.data)})():console.error("\uc544\uc9c1 loggedInUser \ub370\uc774\ud130\uac00 \ub4e4\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}),[o,n,a,k]),(0,i.useEffect)((()=>{const e=navigator.geolocation.watchPosition((e=>{const{latitude:t,longitude:n}=e.coords;p({latitude:t,longitude:n}),V(t)}),(e=>{alert("\uc704\uce58\uad8c\ud55c\uc774 \ud5c8\uc6a9\ub418\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc0ac\uc6a9\uc790\uc758 \uc2e4\uc2dc\uac04 \uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ube0c\ub77c\uc6b0\uc800\uc758 \uc704\uce58 \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uace0 \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694.");const t=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(37.5642135,127.0016985),zoom:14});E(t),console.error("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc5b4 \uc9c0\ub3c4 \ucd08\uae30 \uc704\uce58\ub97c '\uc11c\uc6b8\uc2dc\uccad'\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4. \uc704\uce58\uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uc138\uc694.",e)}));return()=>{navigator.geolocation.clearWatch(e)}}),[c,a]),(0,i.useEffect)((()=>{if(o){const e=xn.database().ref("userLocations/".concat(o));o&&(console.log("\ub118\uc5b4\uc624\ub0d0\uad6c\uc6b0"+o),console.log("1"+e.name),e.once("value",(t=>{console.log("2");if(!t.val()){console.log("3");const t=(()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e})(),n=0,r=0;e.set({color:t,latitude:n,longitude:r})}})))}}),[o,v]),(0,i.useEffect)((()=>{if(null!==v){console.log("\uc774\uac8c\ub3cc\uae34\ud558\ub2c8?");const e=xn.database().ref("userLocations/".concat(o)),t=xn.database().ref("userLocations/".concat(n,"/nicknrel"));return e.once("value",(n=>{const r=n.val();if(r){console.log("\uc5c5\ub370\uc774\ud2b8\uac00 \ub418\ub098\uc694?");const n=v.helper_name,i=v.helper_tel;e.update({name:n,tel:i});const o=f.latitude,s=f.longitude;e.update({latitude:o,longitude:s}),console.log(r.latitude+","+r.longitude+"\uc774\uac83\uacfc"+f.latitude+","+f.longitude+v.helper_name),null!==y&&g.forEach((e=>{console.log("222");try{var n,r;const i=null!==(n=e.helper_id)&&void 0!==n?n:null,o=null!==(r=e.nicknameOfHelper)&&void 0!==r?r:"\ubbf8\uc124\uc815",s=null!==e.relation?e.relation:"\ubbf8\uc124\uc815",a=0==e.locationallowmth?0:1==e.locationallowmth?1:"\ubbf8\uc124\uc815";t.child(i).update({nickname:o,relation:s,locationallowmth:a})}catch(Bn){console.error("\ub4f1\ub85d\ud55c \ud5ec\ud37c\uac00 \uc5c6\uc5b4\uc11c \ud30c\uc774\uc5b4\ubca0\uc774\uc2a4\uc5d0 \uc5c5\ub370\uc774\ud2b8\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.:",Bn)}}))}else console.error("\ud30c\uc774\uc5b4\ubca0\uc774\uc2a4\uc5d0 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud68c\uc6d0\uc785\ub2c8\ub2e4. \uc624\ub958\ub97c \uc218\uc815\ud574\uc8fc\uc138\uc694.:")})),()=>{e.off()}}}),[v,y,f]),(0,i.useEffect)((()=>{if(n){console.log(o+"\uc5ec\uae30\ub098\uc624\ub0d0\uace0\uc624\uc624\uc544\uc774\ub514\uac00 ");const e=xn.database().ref("userLocations/".concat(n));return e.on("value",(e=>{const{latitude:t,longitude:n,color:r,tel:i,name:o,nicknrel:s}=e.val();S({latitude:t,longitude:n,color:r,tel:i,name:o,nicknrel:s}||{latitude:null,longitude:null,color:null,tel:null,name:null,nicknrel:null})})),()=>{e.off()}}}),[o]),(0,i.useEffect)((()=>{if(o){const e=xn.database().ref("userLocations");return e.on("value",(e=>{const t=e.val();x(Object.entries(t||{}).map((e=>{let[t,n]=e;return{user:t,...n}}))),console.log(t.mother3.name+"\ubaa8\ub4e0\uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00\uc838\uc634 mother1 \uc774\ub984")})),()=>{e.off()}}}),[o]),(0,i.useEffect)((()=>{if(0!==H)if(null!==f.latitude&&null!==f.longitude){if(console.log("\ucc98\uc74c\uc5d0 \uc9c0\ub3c4\ub9cc\ub4e4\uc5b4?"),!k){console.log(f.latitude+","+f.longitude+"\uc774\uac8c\uc88c\ud45c\uc77c\uc138");const e=f.latitude,t=f.longitude,n=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(e,t),zoom:14});E(n)}}else if(!k){alert("\uc704\uce58\uad8c\ud55c\uc774 \ud5c8\uc6a9\ub418\uc5b4\uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc0ac\uc6a9\uc790\uc758 \uc2e4\uc2dc\uac04 \uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ube0c\ub77c\uc6b0\uc800\uc758 \uc704\uce58 \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uace0 \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694."),console.log("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc5b4 \uc9c0\ub3c4 \ucd08\uae30 \uc704\uce58\ub97c '\uc11c\uc6b8\uc2dc\uccad'\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4. \uc704\uce58\uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uc138\uc694.");const e=37.5642135,t=127.0016985,n=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(e,t),zoom:14});E(n)}}),[H]),(0,i.useEffect)((()=>{if(console.log(n+"\uc774\uac8c\uc548\ub098\uc624\uc544\uc544\uc559\uc544"),0!==w.length&&n&&0!==g.length){console.log(w[0]+"\uac00\uc838\uc654\uc790\ub098 \u3161\u3161\u3161...");const e=w.filter((e=>(console.log("\uc548\ub4e4\uc5b4\uac00\ub294\uac8c \uc788\ub2c8?"+o+n+e.user+"\uc5c6\ub124"),e.user===n||!!g.some((t=>t.helper_id===e.user)))));console.log(e[0]+"\uac78\ub978\uac70\uc5d0\uc11c \ub098\uc624\ub294 \uc815\ubcf4"),Object.values(T.current).forEach((e=>{e.setMap(null)}));const t=xn.database().ref("userLocations/".concat(n,"/nicknrel"));e.forEach((e=>{if((e.user==n&&1==C.nicknrel[o].locationallowmth||e.user!==n)&&(console.log(n+"\ud074\ub9ad\ub4dc\ub9c8\ub354\uc544\uc774\ub514 \ub0b4\ub194"),e.latitude&&e.longitude&&n)){console.log("\uc774\uac70\uc548\ub4e4\uc5b4\uc624\ub0d0 \uace0\uc2a4\ud0d1");const r=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(e.latitude,e.longitude),map:k,title:e.user,icon:{content:"\n                                <div id=".concat(e.user,">\n                                ").concat(e.user!==n?'\n                                    <div style="margin-bottom: 4px; padding: 4px; width: 68px; height: 24px; font-weight: bold; \n                                      background: '.concat(1==C.nicknrel[e.user].gostop?"rgba(40,180,256,0.4);":2==C.nicknrel[e.user].gostop?"rgba(256,149,149,0.4); ":"rgba(200,200,200,0.4);",' \n                                    border-radius: 12px; position: relative; z-index: 262; right: 10px; top: -35px;">\n                                        \n                                                    ').concat(1==C.nicknrel[e.user].gostop?"\uac00\ub294\uc911":2==C.nicknrel[e.user].gostop?"\ubabb\uac00\uc694":"","\n                                    </div>\n                                "):"",'\n                                <div style="position:relative; z-index: 261; right: 10px; top: -35px;">\n                                <svg width="33" height="42" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M33 16.5C33 25.6127 18.1875 42 16.5 42C14.8125 42 0 25.6127 0 16.5C0 7.3873 7.3873 0 16.5 0C25.6127 0 33 7.3873 33 16.5Z" fill="#333333"/>\n                                    <circle cx="16.5" cy="16.5" r="9.5" fill="').concat(e.color,'" stroke="#ffffff" stroke-width="2"/>\n                                 </svg>\n                                 </div>\n                                </div>\n                                '),size:new window.naver.maps.Size(33,42),anchor:new window.naver.maps.Point(16.5,42)}});T.current[e.user]=r,window.naver.maps.Event.addListener(r,"click",(function(){R(!0),D(e.user===o?"\ub098":e.user),A(e.color),t[e.user]&&F(e.relation),e.user==O&&z(e.locationallowmth),B(e.name),W(e.tel),h({latitude:e.latitude,longitude:e.longitude})}))}}))}}),[o,w,c,a,g,C]);const Q=()=>{P((e=>!e)),R(!1)};return(0,i.useEffect)((()=>{if(o&&n){xn.database().ref("userLocations/".concat(n,"/nicknrel/").concat(o,"/gostop")).once("value",(e=>{let t=e.val();console.log(t+"\uba87\uc774\uc8e0?"),u(t)}))}}),[o,n]),(0,he.jsxs)("div",{style:{width:"480px",height:"770px",position:"absolute",top:"160px"},children:[(0,he.jsx)("div",{style:{position:"absolute",top:"12px",right:"12px",zIndex:260,width:"162px",height:"42px"},children:(0,he.jsx)("select",{onChange:e=>{const t=e.target.value;sessionStorage.setItem("mother_id",t),console.log("\ubc14\ub00c\uc5c8\uc2b5\ub2c8\ub2e4."+t),l(t)},style:{width:"160px",height:"40px",fontWeight:"bold",fontSize:"20px"},children:y.map((e=>(0,he.jsx)("option",{style:{fontSize:"18px"},value:e.mother_id,selected:e.mother_id===n,children:e.mother_name},e.mother_id)))})}),(0,he.jsx)("div",{style:{position:"absolute",top:"60px",right:"12px",zIndex:260,width:"162px",height:"42px"},children:(0,he.jsxs)("select",{onChange:e=>{if(console.log("\uafb8\uc6b0\uafb8\uaf10\uaf10\uaf12\uaf10\uaf10"+C.latitude),"undefined"!==typeof C.latitude)if(null!==f.latitude){const t=e.target.value;sessionStorage.setItem("gostop",t),console.log("\ubc14\ub00c\uc5c8\uc2b5\ub2c8\ub2e4."+t),u(t);xn.database().ref("userLocations/".concat(n,"/nicknrel/").concat(o,"/gostop")).set(t).then((()=>{console.log("Firebase\uc5d0 \uac12\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")})).catch((e=>{console.error("Firebase\uc5d0 \uac12 \uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4:",e)}));const r=e.target,i=r.selectedIndex,s=r.options[i];r.style.backgroundColor=s.style.backgroundColor,r.style.color=s.style.color}else alert("\uc704\uce58\uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\uace0 \uc0c1\ud0dc\ub97c \ubcc0\uacbd\ud574\uc8fc\uc138\uc694");else alert("\uc120\ud0dd\ud55c mother\uc758 firebase \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ub9c8\ub354\uac00 \uba3c\uc800\ub85c\uadf8\uc778\ud558\uace0 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694")},style:{width:"160px",height:"40px",background:1==c?"rgba(40,180,256,0.5)":2==c?"rgba(256,149,149,0.5)":"rgba(200,200,200,0.4)",borderRadius:"12px",fontWeight:"bold",fontSize:"20px"},children:[(0,he.jsx)("option",{selected:0==c,value:"0",style:{color:"black",fontSize:"18px",fontWeight:"bold",backgroundColor:"rgba(200,200,200,0.4)"},children:"\uc120\ud0dd"}),(0,he.jsx)("option",{selected:1==c,value:"1",style:{color:"black",fontSize:"18px",fontWeight:"bold",backgroundColor:"rgba(40,180,256,0.4)"},children:"\uac00\ub294\uc911"}),(0,he.jsx)("option",{selected:2==c,value:"2",style:{color:"black",fontSize:"18px",fontWeight:"bold",backgroundColor:"rgba(256,149,149,0.4)"},children:"\ubabb\uac00\uc694"})]})}),(0,he.jsxs)("div",{id:"map",style:{width:"480px",height:"770px",position:"absolute",left:0,top:0},children:[(0,he.jsxs)("div",{style:{visibility:N?"visible":"hidden",width:"440px",height:"128px",background:"rgba(0,0,0,0.6)",borderRadius:"20px",position:"absolute",left:"20px",zIndex:261},children:[(0,he.jsx)("div",{style:{position:"absolute",left:"12px",top:"8px",width:"28px",height:"28px",borderRadius:"50%",background:L,border:"2px solid white"}}),(0,he.jsx)("div",{style:{position:"absolute",right:"12px",top:"8px",width:"32px",height:"32px",border:"1px solid white",color:"white",fontSize:"40px",zIndex:262},onClick:e=>{R(!1)},children:(0,he.jsx)("i",{style:{position:"absolute",top:"-13px",left:"-3px"},class:"bi bi-x"})}),(0,he.jsxs)("div",{style:{position:"absolute",left:"60px",top:"8px",fontSize:"20px",color:"white",textAlign:"left"},children:["\ub098"==O?"":"\uc544\uc774\ub514:"," ",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:O}),(0,he.jsx)("br",{}),"\uc774\ub984: ",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:U})," ",n==O?"\uc704\uce58\uad8c\ud55c: ".concat(M):"","(\uc0b0\ubaa8\uc640\uad00\uacc4:",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:j}),")",(0,he.jsx)("br",{}),"\uc804\ud654\ubc88\ud638:",(0,he.jsx)("strong",{style:{color:"#ff578b"},children:q})]}),(0,he.jsxs)("div",{style:{position:"absolute",bottom:"8px",left:"8px",width:"40px"},onClick:()=>{k&&d.latitude&&d.longitude&&k.setCenter(new window.naver.maps.LatLng(d.latitude,d.longitude))},children:[(0,he.jsxs)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,he.jsx)("circle",{cx:"16.5012",cy:"16.4997",r:"10.05",stroke:"white","stroke-width":"3"}),(0,he.jsx)("rect",{x:"14.8516",width:"3.3",height:"5.775",fill:"white"}),(0,he.jsx)("rect",{x:"14.8516",y:"27.2251",width:"3.3",height:"5.775",fill:"white"}),(0,he.jsx)("rect",{x:"5.77539",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 5.77539 14.8501)",fill:"white"}),(0,he.jsx)("rect",{x:"33",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 33 14.8501)",fill:"white"})]}),(0,he.jsx)("div",{style:{color:"white",fontSize:"10px"},children:"\uc704\uce58\ubcf4\uae30"})]})]}),(0,he.jsx)("div",{style:{position:"absolute",width:"40px",height:"40px",borderRadius:"50%",border:"4px solid #ff578b",boxShadow:"0 0 2px 2px lightgrey",left:"20px",bottom:"150px",zIndex:"254",background:"#fff",textAlign:"center",cursor:"pointer"},onClick:()=>{k&&f.latitude&&f.longitude&&k.setCenter(new window.naver.maps.LatLng(f.latitude,f.longitude)),R(!1)},children:(0,he.jsx)("div",{style:{marginTop:"4px"},children:(0,he.jsxs)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,he.jsx)("circle",{cx:"16.5012",cy:"16.4997",r:"10.05",stroke:"#FF578B","stroke-width":"3"}),(0,he.jsx)("rect",{x:"14.8516",width:"3.3",height:"5.775",fill:"#FF578B"}),(0,he.jsx)("rect",{x:"14.8516",y:"27.2251",width:"3.3",height:"5.775",fill:"#FF578B"}),(0,he.jsx)("rect",{x:"5.77539",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 5.77539 14.8501)",fill:"#FF578B"}),(0,he.jsx)("rect",{x:"33",y:"14.8501",width:"3.3",height:"5.775",transform:"rotate(90 33 14.8501)",fill:"#FF578B"})]})})}),(0,he.jsx)("div",{style:{position:"absolute",zIndex:"263",visibility:I?"visible":"hidden"},children:(0,he.jsx)(Ku,{roomId:n,loggedInUser:o,toggleChatRoom:Q})}),(0,he.jsx)("div",{style:{position:"absolute",width:"56px",height:"56px",borderRadius:"50%",border:"4px solid #ff578b",boxShadow:"0 0 2px 2px lightgrey",right:"20px",bottom:"150px",zIndex:"254",background:"#fff"},children:(0,he.jsxs)("div",{id:"chatbtn",style:{marginTop:"11px"},onClick:Q,children:[(0,he.jsx)("svg",{width:"44",height:"39",viewBox:"0 0 44 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,he.jsx)("path",{d:"M44 16.1743C44 20.8183 41.3378 25.0053 37.0741 27.9551C35.6173 28.963 34.2222 38.9841 33.8148 38.9841C33.8148 39.3988 29.0144 31.5645 27.2963 31.8767C25.5999 32.185 23.8259 32.3485 22 32.3485C9.84974 32.3485 0 25.107 0 16.1743C0 7.24146 9.84974 0 22 0C34.1503 0 44 7.24146 44 16.1743Z",fill:"#FF578B"})}),(0,he.jsx)("div",{style:{position:"absolute",zIndex:"254",fontSize:"16px",fontWeight:"bold",color:"white",top:"14px",left:"10px"},children:"Chat"})]})}),(0,he.jsxs)("div",{style:{position:"absolute",width:"440px",background:"rgba(256,256,256,0.8)",zIndex:"253",bottom:"8px",left:"20px",borderRadius:"20px",boxShadow:"0 0 2px 2px lightgrey"},children:[(0,he.jsx)("div",{style:{color:"#ff578b",fontSize:"16px",margin:"auto"},children:" \uc704\uae09\uc0c1\ud669 \uc2dc \ubaa8\ub4e0 \ud5ec\ud37c\uc758 \uc704\uce58\uac00 \uacf5\uac1c\ub429\ub2c8\ub2e4."}),(0,he.jsx)("style",{children:" .container::-webkit-scrollbar{display: none;} "}),(0,he.jsx)("div",{className:"container",style:{width:"420px",height:"110px",margin:"auto",textAlign:"left",overflowY:"auto"},children:w.filter((e=>e.user===n||!!g.some((t=>t.helper_id===e.user)))).map(((e,t)=>(0,he.jsxs)("div",{style:{width:"32%",height:"40px",display:"inline-block",padding:"2px"},onClick:t=>{return r=e.user,i=e.color,s=e.latitude,a=e.longitude,l=e.name,c=e.tel,u="".concat(C.nicknrel[e.user]?C.nicknrel[e.user].relation:""),d="".concat(e.user==n?C.nicknrel[o].locationallowmth:""),D(r===o?"\ub098":r),R(!0),A(i),h({latitude:s,longitude:a}),""!==u&&F(u),""!==d&&z(d),B(l),void W(c);var r,i,s,a,l,c,u,d},children:[(0,he.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"18px",background:e.color,display:"inline-block"}}),(0,he.jsxs)("div",{style:{width:"96px",height:"40px",display:"inline-block"},children:[(0,he.jsx)("div",{style:{width:"96px",height:"24px",fontSize:"20px"},children:e.user===o?"\ub098":e.user}),(0,he.jsx)("div",{style:{width:"96px",height:"16px",fontSize:"12px"},children:e.user==n&&w.filter((e=>e.user===n)).map(((e,t)=>(0,he.jsxs)("div",{children:["\uc704\uce58\uacf5\uc720:",1==e.nicknrel[o].locationallowmth?"on":0==e.nicknrel[o].locationallowmth?"off":"null"]},t)))})]})]})))})]})]})]})},od=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)("location"),[o,s]=(0,i.useState)("#999"),[a,l]=(0,i.useState)("#999"),[c,u]=(0,i.useState)("#999");(0,i.useEffect)((()=>{const e=sessionStorage.getItem("loginData");e?t(e):window.location.href="/"}),[]);return(0,i.useEffect)((()=>{switch(n){case"list":u("#999"),l("#999"),s("#ff578b");break;case"add":u("#999"),l("#ff578b"),s("#999");break;case"location":u("#ff578b"),l("#999"),s("#999")}}),[n]),(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(Xu,{}),(0,he.jsx)(ed,{onPageChange:e=>{r(e)},btnColor1:o,btnColor2:a,btnColor3:c}),"list"===n&&(0,he.jsx)(td,{}),"add"===n&&(0,he.jsx)(nd,{}),"location"===n&&(0,he.jsx)(id,{loggedInUserProps:e}),(0,he.jsx)(Zu,{color1:"#999",color2:"#ff578b",color3:"#999",color4:"#999"})]})},sd=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(null);return(0,he.jsx)(he.Fragment,{children:(0,he.jsx)(ce,{children:(0,he.jsxs)(se,{children:[(0,he.jsx)(ie,{index:!0,element:(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(pe,{handleLogin:async(e,n)=>{try{const i=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({helper_id:e,helper_password:n})});if(i.ok){const e=await i.json();return console.log("Logged in as:",e.helper_id),t(e.helper_id),r(e.helper_status),e}throw console.error("Login failed"),t(null),r(null),new Error("Login failed")}catch(Bn){throw console.error("Login error:",Bn),t(null),r(null),Bn}}}),(0,he.jsx)(fe,{})]})}),(0,he.jsx)(ie,{path:"/helpers",element:(0,he.jsx)(Ju,{})}),(0,he.jsx)(ie,{path:"/mothers",element:(0,he.jsx)(od,{})})]})})})};s.createRoot(document.getElementById("root")).render((0,he.jsx)("div",{children:(0,he.jsx)(sd,{})}))})()})();
//# sourceMappingURL=main.33b38ccb.js.map